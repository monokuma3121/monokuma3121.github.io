{
    "version": "https://jsonfeed.org/version/1",
    "title": "Eucli • All posts by \"pinia\" tag",
    "description": null,
    "home_page_url": "https://eucli.top",
    "items": [
        {
            "id": "https://eucli.top/2023/05/03/%E3%80%90%E5%B0%8F%E6%BB%A1%E3%80%91Vue3%20+%20vite%20+%20Ts%20+%20pinia%20+%20%E5%AE%9E%E6%88%98%20+%20%E6%BA%90%E7%A0%81%20+electron/",
            "url": "https://eucli.top/2023/05/03/%E3%80%90%E5%B0%8F%E6%BB%A1%E3%80%91Vue3%20+%20vite%20+%20Ts%20+%20pinia%20+%20%E5%AE%9E%E6%88%98%20+%20%E6%BA%90%E7%A0%81%20+electron/",
            "title": "【小满】Vue3 + vite + Ts + pinia + 实战 + 源码 +electron",
            "date_published": "2023-05-03T02:46:00.000Z",
            "content_html": "",
            "tags": [
                "TypeScript",
                "vue3",
                "pinia",
                "vite",
                "electron"
            ]
        },
        {
            "id": "https://eucli.top/2023/03/24/%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%EF%BC%9AVite%20+%20Vue3%20+%20Typescript%20+%20Pinia%20+%20Vueuse%E9%A1%B9%E7%9B%AE/",
            "url": "https://eucli.top/2023/03/24/%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%EF%BC%9AVite%20+%20Vue3%20+%20Typescript%20+%20Pinia%20+%20Vueuse%E9%A1%B9%E7%9B%AE/",
            "title": "快速搭建：Vite + Vue3 + Typescript + Pinia + Vueuse项目",
            "date_published": "2023-03-24T10:01:34.000Z",
            "content_html": "<h1 id=\"vite-vue3-typescript-pinia-vueuse\"><a class=\"markdownIt-Anchor\" href=\"#vite-vue3-typescript-pinia-vueuse\">#</a> Vite + Vue3 + Typescript + Pinia + Vueuse</h1>\n<blockquote>\n<h2 id=\"一个大厂企业级前端项目\"><a class=\"markdownIt-Anchor\" href=\"#一个大厂企业级前端项目\">#</a> 一个大厂企业级前端项目</h2>\n</blockquote>\n<h1 id=\"通过这篇文章你可以学到\"><a class=\"markdownIt-Anchor\" href=\"#通过这篇文章你可以学到\">#</a> 通过这篇文章你可以学到</h1>\n<ul>\n<li>如何使用使用 Vite 搭建项目</li>\n<li>如何在 Vite 中集成  <code>typescript</code></li>\n<li>如何在 Vite 中集成  <code>vue-router4</code>  和  <code>pinia</code></li>\n<li>如何使用 vue3 的伴侣  <code>vueuse</code></li>\n<li>如何在项目中集成  <code>eslint</code>  和  <code>prettier</code>  保证代码质量</li>\n<li>如何规范化  <code>git</code>  提交信息</li>\n<li>如何为团队开发 <code>专属的项目模板</code></li>\n</ul>\n<h1 id=\"环境依赖版本\"><a class=\"markdownIt-Anchor\" href=\"#环境依赖版本\">#</a> 环境依赖版本</h1>\n<ul>\n<li><a href=\"https://github.com/nodejs/node\">node</a>：v14.15.4</li>\n<li><a href=\"https://github.com/vitejs/vite\">vite</a>：^2.8.0</li>\n<li><a href=\"https://github.com/vuejs/vue\">vue</a>：^3.2.25</li>\n<li><a href=\"https://github.com/microsoft/TypeScript\">typescript</a>：^4.5.4</li>\n<li><a href=\"https://github.com/vuejs/pinia\">pinia</a>：^2.0.12</li>\n<li><a href=\"https://github.com/vuejs/router\">vue-router</a>：^4.0.14</li>\n<li><a href=\"https://github.com/vueuse/vueuse\">vueuse</a>：^8.2.0</li>\n<li><a href=\"https://github.com/eslint/eslint\">eslint</a>：^8.12.0</li>\n<li><a href=\"https://github.com/prettier/prettier\">prettier</a>：^2.6.1</li>\n<li><a href=\"https://github.com/commitizen/cz-cli\">commitizen</a>：^4.2.4</li>\n<li><a href=\"https://github.com/typicode/husky\">husky</a>：^7.0.4</li>\n</ul>\n<p><strong>长话短说，直接开干～</strong></p>\n<h1 id=\"1-初始化项目\"><a class=\"markdownIt-Anchor\" href=\"#1-初始化项目\">#</a> 1. 初始化项目</h1>\n<h2 id=\"按步骤提示初始化\"><a class=\"markdownIt-Anchor\" href=\"#按步骤提示初始化\">#</a> 按步骤提示初始化：</h2>\n<ol>\n<li>使用 vite-cli 命令</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># pnpm</span></span><br><span class=\"line\">pnpm create vite</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># npm</span></span><br><span class=\"line\">npm init vite@latest</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># yarn</span></span><br><span class=\"line\">yarn create vite</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>输入项目名：</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">? Project name:  vite-vue3-ts-pinia</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>选择一个框架（vue）</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">? Select a framework: » - Use arrow-keys. Return to submit.</span><br><span class=\"line\">     vanilla // 原生js</span><br><span class=\"line\"> &gt;   vue     // 默认就是 vue3</span><br><span class=\"line\">     react   // react</span><br><span class=\"line\">     preact  // 轻量化react框架</span><br><span class=\"line\">     lit     // 轻量级web组件</span><br><span class=\"line\">     svelte  // svelte框架</span><br></pre></td></tr></table></figure>\n<ol start=\"4\">\n<li>使用 typescript</li>\n</ol>\n<figure class=\"highlight n1ql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">? <span class=\"keyword\">Select</span> a variant: › - <span class=\"keyword\">Use</span> arrow-<span class=\"keyword\">keys</span>. <span class=\"keyword\">Return</span> <span class=\"keyword\">to</span> submit.</span><br><span class=\"line\">     vue</span><br><span class=\"line\"> ❯   vue-ts</span><br></pre></td></tr></table></figure>\n<ol start=\"5\">\n<li>启动项目</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> vite-vue3-ts-pinia &amp;&amp; pnpm install &amp;&amp; pnpm run dev</span><br></pre></td></tr></table></figure>\n<h2 id=\"快速初始化建议使用\"><a class=\"markdownIt-Anchor\" href=\"#快速初始化建议使用\">#</a> 快速初始化（建议使用）：</h2>\n<figure class=\"highlight livecodeserver\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># pnpm</span></span><br><span class=\"line\">pnpm <span class=\"built_in\">create</span> vite project-name <span class=\"comment\">-- --template vue-ts</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># npm 6.x</span></span><br><span class=\"line\">npm init vite@latest project-name <span class=\"comment\">--template vue-ts</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\"># npm 7+, 需要额外的双横线：</span></span><br><span class=\"line\">npm init vite@latest project-name <span class=\"comment\">-- --template vue-ts</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\"># yarn</span></span><br><span class=\"line\">yarn <span class=\"built_in\">create</span> vite project-name <span class=\"comment\">--template vue-ts</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"集成配置\"><a class=\"markdownIt-Anchor\" href=\"#集成配置\">#</a> 集成配置</h2>\n<ol>\n<li>为保证 node 的使用</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm i @types/node --save-dev</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>修改  <code>tsconfig.json</code></li>\n</ol>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;compilerOptions&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;typeRoots&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span></span><br><span class=\"line\">      <span class=\"string\">&quot;node_modules/@types&quot;</span><span class=\"punctuation\">,</span> <span class=\"comment\">// 默认值</span></span><br><span class=\"line\">      <span class=\"string\">&quot;src/types&quot;</span></span><br><span class=\"line\">    <span class=\"punctuation\">]</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;target&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;esnext&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;useDefineForClassFields&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;module&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;esnext&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;moduleResolution&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;node&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;strict&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;jsx&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;preserve&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;sourceMap&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;resolveJsonModule&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;esModuleInterop&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;lib&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span><span class=\"string\">&quot;esnext&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;dom&quot;</span><span class=\"punctuation\">]</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;baseUrl&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;./&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;paths&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;@&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span><span class=\"string\">&quot;src&quot;</span><span class=\"punctuation\">]</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;@/*&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span><span class=\"string\">&quot;src/*&quot;</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;include&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span><span class=\"string\">&quot;src/**/*.ts&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;src/**/*.d.ts&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;src/**/*.tsx&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;src/**/*.vue&quot;</span><span class=\"punctuation\">]</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>修改  <code>vite.config.ts</code></li>\n</ol>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; defineConfig &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vite&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> vue <span class=\"keyword\">from</span> <span class=\"string\">&quot;@vitejs/plugin-vue&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> * <span class=\"keyword\">as</span> path <span class=\"keyword\">from</span> <span class=\"string\">&quot;path&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// https://vitejs.dev/config/</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title function_\">defineConfig</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">resolve</span>: &#123;</span><br><span class=\"line\">    <span class=\"comment\">//设置别名</span></span><br><span class=\"line\">    <span class=\"attr\">alias</span>: &#123;</span><br><span class=\"line\">      <span class=\"string\">&quot;@&quot;</span>: path.<span class=\"title function_\">resolve</span>(__dirname, <span class=\"string\">&quot;src&quot;</span>),</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: [<span class=\"title function_\">vue</span>()],</span><br><span class=\"line\">  <span class=\"attr\">server</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">port</span>: <span class=\"number\">8080</span>, <span class=\"comment\">//启动端口</span></span><br><span class=\"line\">    <span class=\"attr\">hmr</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">host</span>: <span class=\"string\">&quot;127.0.0.1&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">port</span>: <span class=\"number\">8080</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// 设置 https 代理</span></span><br><span class=\"line\">    <span class=\"attr\">proxy</span>: &#123;</span><br><span class=\"line\">      <span class=\"string\">&quot;/api&quot;</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">target</span>: <span class=\"string\">&quot;your https address&quot;</span>,</span><br><span class=\"line\">        <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">rewrite</span>: <span class=\"function\">(<span class=\"params\">path: <span class=\"built_in\">string</span></span>) =&gt;</span> path.<span class=\"title function_\">replace</span>(<span class=\"regexp\">/^\\/api/</span>, <span class=\"string\">&quot;&quot;</span>),</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<h1 id=\"2-代码质量风格的统一\"><a class=\"markdownIt-Anchor\" href=\"#2-代码质量风格的统一\">#</a> 2. 代码质量风格的统一</h1>\n<h2 id=\"集成-eslint\"><a class=\"markdownIt-Anchor\" href=\"#集成-eslint\">#</a> 集成  <code>eslint</code></h2>\n<ol>\n<li>安装</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm i eslint eslint-plugin-vue --save-dev</span><br></pre></td></tr></table></figure>\n<p>由于 ESLint 默认使用  <a href=\"https://github.com/eslint/espree\">Espree</a>  进行语法解析，无法识别 TypeScript 的一些语法，故我们需要安装  <a href=\"https://github.com/typescript-eslint/typescript-eslint/tree/master/packages/parser\"> <code>@typescript-eslint/parser</code> </a> 替代掉默认的解析器</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm install @typescript-eslint/parser --save-dev</span><br></pre></td></tr></table></figure>\n<p>安装对应的插件  <a href=\"https://github.com/typescript-eslint/typescript-eslint/tree/master/packages/eslint-plugin\">@typescript-eslint/eslint-plugin</a>  它作为 eslint 默认规则的补充，提供了一些额外的适用于 ts 语法的规则。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm install @typescript-eslint/eslint-plugin --save-dev</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>创建配置文件：  <code>.eslintrc.js</code>   或   <code>.eslintrc.json</code></li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">parser</span>: <span class=\"string\">&quot;vue-eslint-parser&quot;</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">parserOptions</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">parser</span>: <span class=\"string\">&quot;@typescript-eslint/parser&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">ecmaVersion</span>: <span class=\"number\">2020</span>,</span><br><span class=\"line\">    <span class=\"attr\">sourceType</span>: <span class=\"string\">&quot;module&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">ecmaFeatures</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">jsx</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">extends</span>: [<span class=\"string\">&quot;plugin:vue/vue3-recommended&quot;</span>, <span class=\"string\">&quot;plugin:@typescript-eslint/recommended&quot;</span>],</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">rules</span>: &#123;</span><br><span class=\"line\">    <span class=\"comment\">// override/add rules settings here, such as:</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>创建忽略文件： <code>.eslintignore</code></li>\n</ol>\n<figure class=\"highlight axapta\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">node_modules/</span><br><span class=\"line\">dist/</span><br><span class=\"line\"><span class=\"keyword\">index</span>.html</span><br></pre></td></tr></table></figure>\n<ol start=\"4\">\n<li>命令行式运行：修改  <code>package.json</code></li>\n</ol>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    ...</span><br><span class=\"line\">    <span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">        ...</span><br><span class=\"line\">        <span class=\"attr\">&quot;eslint:comment&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;使用 ESLint 检查并自动修复 src 目录下所有扩展名为 .js 和 .vue 的文件&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">        <span class=\"attr\">&quot;eslint&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;eslint --ext .js,.vue --ignore-path .gitignore --fix src&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">    ...</span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"集成-prettier\"><a class=\"markdownIt-Anchor\" href=\"#集成-prettier\">#</a> 集成  <code>prettier</code></h2>\n<ol>\n<li>安装</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm i prettier eslint-config-prettier eslint-plugin-prettier --save-dev</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>创建配置文件：  <code>prettier.config.js</code>  或  <code>.prettierrc.js</code></li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"comment\">// 一行最多 80 字符</span></span><br><span class=\"line\">  <span class=\"attr\">printWidth</span>: <span class=\"number\">80</span>,</span><br><span class=\"line\">  <span class=\"comment\">// 使用 4 个空格缩进</span></span><br><span class=\"line\">  <span class=\"attr\">tabWidth</span>: <span class=\"number\">4</span>,</span><br><span class=\"line\">  <span class=\"comment\">// 不使用 tab 缩进，而使用空格</span></span><br><span class=\"line\">  <span class=\"attr\">useTabs</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">  <span class=\"comment\">// 行尾需要有分号</span></span><br><span class=\"line\">  <span class=\"attr\">semi</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">  <span class=\"comment\">// 使用单引号代替双引号</span></span><br><span class=\"line\">  <span class=\"attr\">singleQuote</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">  <span class=\"comment\">// 对象的 key 仅在必要时用引号</span></span><br><span class=\"line\">  <span class=\"attr\">quoteProps</span>: <span class=\"string\">&quot;as-needed&quot;</span>,</span><br><span class=\"line\">  <span class=\"comment\">// jsx 不使用单引号，而使用双引号</span></span><br><span class=\"line\">  <span class=\"attr\">jsxSingleQuote</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">  <span class=\"comment\">// 末尾使用逗号</span></span><br><span class=\"line\">  <span class=\"attr\">trailingComma</span>: <span class=\"string\">&quot;all&quot;</span>,</span><br><span class=\"line\">  <span class=\"comment\">// 大括号内的首尾需要空格 &#123; foo: bar &#125;</span></span><br><span class=\"line\">  <span class=\"attr\">bracketSpacing</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">  <span class=\"comment\">// jsx 标签的反尖括号需要换行</span></span><br><span class=\"line\">  <span class=\"attr\">jsxBracketSameLine</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">  <span class=\"comment\">// 箭头函数，只有一个参数的时候，也需要括号</span></span><br><span class=\"line\">  <span class=\"attr\">arrowParens</span>: <span class=\"string\">&quot;always&quot;</span>,</span><br><span class=\"line\">  <span class=\"comment\">// 每个文件格式化的范围是文件的全部内容</span></span><br><span class=\"line\">  <span class=\"attr\">rangeStart</span>: <span class=\"number\">0</span>,</span><br><span class=\"line\">  <span class=\"attr\">rangeEnd</span>: <span class=\"title class_\">Infinity</span>,</span><br><span class=\"line\">  <span class=\"comment\">// 不需要写文件开头的 @prettier</span></span><br><span class=\"line\">  <span class=\"attr\">requirePragma</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">  <span class=\"comment\">// 不需要自动在文件开头插入 @prettier</span></span><br><span class=\"line\">  <span class=\"attr\">insertPragma</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">  <span class=\"comment\">// 使用默认的折行标准</span></span><br><span class=\"line\">  <span class=\"attr\">proseWrap</span>: <span class=\"string\">&quot;preserve&quot;</span>,</span><br><span class=\"line\">  <span class=\"comment\">// 根据显示样式决定 html 要不要折行</span></span><br><span class=\"line\">  <span class=\"attr\">htmlWhitespaceSensitivity</span>: <span class=\"string\">&quot;css&quot;</span>,</span><br><span class=\"line\">  <span class=\"comment\">// 换行符使用 lf</span></span><br><span class=\"line\">  <span class=\"attr\">endOfLine</span>: <span class=\"string\">&quot;auto&quot;</span>,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>修改  <code>.eslintrc.js</code>  配置</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">    ...</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attr\">extends</span>: [</span><br><span class=\"line\">        <span class=\"string\">&#x27;plugin:vue/vue3-recommended&#x27;</span>,</span><br><span class=\"line\">        <span class=\"string\">&#x27;plugin:@typescript-eslint/recommended&#x27;</span>,</span><br><span class=\"line\">        <span class=\"string\">&#x27;prettier&#x27;</span>,</span><br><span class=\"line\">        <span class=\"string\">&#x27;plugin:prettier/recommended&#x27;</span></span><br><span class=\"line\">    ],</span><br><span class=\"line\"></span><br><span class=\"line\">    ...</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<ol start=\"4\">\n<li>命令行式运行：修改  <code>package.json</code></li>\n</ol>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    ...</span><br><span class=\"line\">    <span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">        ...</span><br><span class=\"line\">        <span class=\"attr\">&quot;prettier:comment&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;自动格式化当前目录下的所有文件&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">        <span class=\"attr\">&quot;prettier&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;prettier --write&quot;</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">    ...</span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n<h1 id=\"3-集成-pinia\"><a class=\"markdownIt-Anchor\" href=\"#3-集成-pinia\">#</a> 3. 集成  <code>pinia</code></h1>\n<p><code>Pinia</code>  读音：['piːnə]，是 Vue 官方团队推荐代替 <code>Vuex</code>  的一款轻量级状态管理库。</p>\n<p><strong>Pinia 有如下特点：</strong></p>\n<ul>\n<li>完整的 typescript 的支持；</li>\n<li>足够轻量，压缩后的体积只有 1.6kb;</li>\n<li>去除 mutations，只有 state，getters，actions（这是我最喜欢的一个特点）；</li>\n<li>actions 支持同步和异步；</li>\n<li>没有模块嵌套，只有 store 的概念，store 之间可以自由使用，更好的代码分割；</li>\n<li>无需手动添加 store，store 一旦创建便会自动添加；</li>\n</ul>\n<h2 id=\"安装\"><a class=\"markdownIt-Anchor\" href=\"#安装\">#</a> 安装</h2>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> pnpm <span class=\"selector-tag\">i</span> pinia <span class=\"attr\">--save</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"使用\"><a class=\"markdownIt-Anchor\" href=\"#使用\">#</a> 使用</h2>\n<ol>\n<li>新建 src/store 目录并在其下面创建 index.ts，导出 store</li>\n</ol>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; createPinia &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;pinia&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> store = <span class=\"title function_\">createPinia</span>();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> store;</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>在 main.ts 中引入并使用</li>\n</ol>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; createApp &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">App</span> <span class=\"keyword\">from</span> <span class=\"string\">&quot;./App.vue&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> store <span class=\"keyword\">from</span> <span class=\"string\">&quot;./store&quot;</span>; <span class=\"comment\">// 创建vue实例</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> app = <span class=\"title function_\">createApp</span>(<span class=\"title class_\">App</span>); <span class=\"comment\">// 挂载pinia</span></span><br><span class=\"line\">app.<span class=\"title function_\">use</span>(store); <span class=\"comment\">// 挂载实例</span></span><br><span class=\"line\">app.<span class=\"title function_\">mount</span>(<span class=\"string\">&quot;#app&quot;</span>);</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li><strong>定义 State：</strong> 在 src/store 下面创建一个 user.ts</li>\n</ol>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; defineStore &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;pinia&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> useUserStore = <span class=\"title function_\">defineStore</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">id</span>: <span class=\"string\">&quot;user&quot;</span>, <span class=\"comment\">// id必填，且需要唯一</span></span><br><span class=\"line\">  <span class=\"attr\">state</span>: <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">      <span class=\"attr\">name</span>: <span class=\"string\">&quot;张三&quot;</span>,</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">actions</span>: &#123;</span><br><span class=\"line\">    <span class=\"title function_\">updateName</span>(<span class=\"params\">name</span>) &#123;</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">name</span> = name;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<ol start=\"4\">\n<li><strong>获取 State：</strong> 在 src/components/usePinia.vue 中使用</li>\n</ol>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> &lt;template&gt;</span><br><span class=\"line\">   <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span>&#123;&#123; userStore.name &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"> &lt;/template&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;ts&quot;</span> <span class=\"attr\">setup</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"> <span class=\"keyword\">import</span> &#123; useUserStore &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@/store/user&#x27;</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"> <span class=\"keyword\">const</span> userStore = <span class=\"title function_\">useUserStore</span>()</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"> </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n<ol start=\"5\">\n<li><strong>修改 State：</strong></li>\n</ol>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"comment\">// 1. 直接修改 state （不建议）</span></span><br><span class=\"line\"> userStore.<span class=\"property\">name</span> = <span class=\"string\">&#x27;李四&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"comment\">// 2. 通过 actions 去修改</span></span><br><span class=\"line\"> &lt;script lang=<span class=\"string\">&quot;ts&quot;</span> setup&gt;</span><br><span class=\"line\"> <span class=\"keyword\">import</span> &#123; useUserStore &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@/store/user&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"keyword\">const</span> userStore = <span class=\"title function_\">useUserStore</span>()</span><br><span class=\"line\"> userStore.<span class=\"title function_\">updateName</span>(<span class=\"string\">&#x27;李四&#x27;</span>)</span><br><span class=\"line\"> &lt;/script&gt;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>更详细上手指南：<a href=\"https://juejin.cn/post/7049196967770980389\">链接</a> 官方文档：<a href=\"https://pinia.vuejs.org/introduction.html\">链接</a></p>\n</blockquote>\n<h1 id=\"4-集成-vue-router4\"><a class=\"markdownIt-Anchor\" href=\"#4-集成-vue-router4\">#</a> 4. 集成  <code>vue-router4</code></h1>\n<h2 id=\"安装-2\"><a class=\"markdownIt-Anchor\" href=\"#安装-2\">#</a> 安装</h2>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> pnpm i vue-router --save</span><br></pre></td></tr></table></figure>\n<h2 id=\"使用-2\"><a class=\"markdownIt-Anchor\" href=\"#使用-2\">#</a> 使用</h2>\n<ol>\n<li>新建 src/router 目录并在其下面创建 index.ts，导出 router</li>\n</ol>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; createRouter, createWebHistory, <span class=\"title class_\">RouteRecordRaw</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue-router&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"attr\">routes</span>: <span class=\"title class_\">Array</span>&lt;<span class=\"title class_\">RouteRecordRaw</span>&gt; = [</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>: <span class=\"string\">&quot;/login&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&quot;Login&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">meta</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">title</span>: <span class=\"string\">&quot;登录&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">keepAlive</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      <span class=\"attr\">requireAuth</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">component</span>: <span class=\"function\">() =&gt;</span> <span class=\"keyword\">import</span>(<span class=\"string\">&quot;@/pages/login.vue&quot;</span>),</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>: <span class=\"string\">&quot;/&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&quot;Index&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">meta</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">title</span>: <span class=\"string\">&quot;首页&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">keepAlive</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      <span class=\"attr\">requireAuth</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">component</span>: <span class=\"function\">() =&gt;</span> <span class=\"keyword\">import</span>(<span class=\"string\">&quot;@/pages/index.vue&quot;</span>),</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> router = <span class=\"title function_\">createRouter</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">history</span>: <span class=\"title function_\">createWebHistory</span>(),</span><br><span class=\"line\">  routes,</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> router;</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>在 main.ts 中引入并使用</li>\n</ol>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; createApp &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">App</span> <span class=\"keyword\">from</span> <span class=\"string\">&quot;./App.vue&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> store <span class=\"keyword\">from</span> <span class=\"string\">&quot;./store&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> router <span class=\"keyword\">from</span> <span class=\"string\">&quot;@/router&quot;</span>; <span class=\"comment\">// 创建vue实例</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> app = <span class=\"title function_\">createApp</span>(<span class=\"title class_\">App</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">app.<span class=\"title function_\">use</span>(router); <span class=\"comment\">// 挂载实例</span></span><br><span class=\"line\"></span><br><span class=\"line\">app.<span class=\"title function_\">mount</span>(<span class=\"string\">&quot;#app&quot;</span>);</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>修改 App.vue</li>\n</ol>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">     <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">RouterView</span> /&gt;</span></span> </span><br><span class=\"line\">&lt;/template&gt;</span><br></pre></td></tr></table></figure>\n<h1 id=\"5-集成-vueuse\"><a class=\"markdownIt-Anchor\" href=\"#5-集成-vueuse\">#</a> 5. 集成  <code>vueuse</code></h1>\n<p><code>VueUse</code>  是一个基于   <code>Composition API</code>  的实用函数集合。</p>\n<h2 id=\"安装-3\"><a class=\"markdownIt-Anchor\" href=\"#安装-3\">#</a> 安装</h2>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> pnpm <span class=\"selector-tag\">i</span> <span class=\"keyword\">@vueuse</span>/core</span><br></pre></td></tr></table></figure>\n<h2 id=\"使用-3\"><a class=\"markdownIt-Anchor\" href=\"#使用-3\">#</a> 使用</h2>\n<ol>\n<li>创建一个新的 src/page/vueUse.vue 页面来做一个简单的 demo</li>\n</ol>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> &lt;template&gt;</span><br><span class=\"line\">   <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span> 测试 vueUse 的鼠标坐标 <span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span></span><br><span class=\"line\">   <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">h3</span>&gt;</span>Mouse: &#123;&#123;x&#125;&#125; x &#123;&#123;y&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h3</span>&gt;</span></span></span><br><span class=\"line\"> &lt;/template&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;ts&quot;</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">     <span class=\"keyword\">import</span> &#123; defineComponent &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">     <span class=\"keyword\">import</span> &#123; useMouse &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@vueuse/core&#x27;</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">     <span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title function_\">defineComponent</span>(&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">         <span class=\"attr\">name</span>: <span class=\"string\">&#x27;VueUse&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">         <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">           <span class=\"keyword\">const</span> &#123; x, y &#125; = <span class=\"title function_\">useMouse</span>()</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">           <span class=\"keyword\">return</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">             x, y</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">           &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">         &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">     &#125;);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"> </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n<p>useMouse 只是 vueuse 的一个最基本的函数库，还有许多，总会有一个适合你；</p>\n<p>更多函数官方文档：<a href=\"https://vueuse.org/\">链接</a></p>\n<h1 id=\"6-css-的集成\"><a class=\"markdownIt-Anchor\" href=\"#6-css-的集成\">#</a> 6. CSS 的集成</h1>\n<h2 id=\"方案一原生-css-variable-新特性\"><a class=\"markdownIt-Anchor\" href=\"#方案一原生-css-variable-新特性\">#</a> 方案一：原生 css variable 新特性：</h2>\n<p>原生支持，不需要第三方插件，具体使用文档可 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/CSS/var\">查看</a></p>\n<ol>\n<li>新建文件 src/styles/index.css</li>\n</ol>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"selector-pseudo\">:root</span> &#123;</span><br><span class=\"line\">   <span class=\"attr\">--main-bg-color</span>: pink;</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> ​</span><br><span class=\"line\"> <span class=\"selector-tag\">body</span> &#123;</span><br><span class=\"line\">   <span class=\"attribute\">background-color</span>: <span class=\"built_in\">var</span>(--main-bg-color);</span><br><span class=\"line\"> &#125;</span><br></pre></td></tr></table></figure>\n<p>注：还可以增加 PostCSS 配置，(任何受  <a href=\"https://github.com/postcss/postcss-load-config\">postcss-load-config</a> 支持的格式，例如   <code>postcss.config.js</code>  )，它将会自动应用于所有已导入的 CSS。</p>\n<h2 id=\"方案二scss-或-less\"><a class=\"markdownIt-Anchor\" href=\"#方案二scss-或-less\">#</a> 方案二：scss 或 less：</h2>\n<ol>\n<li>安装</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"comment\"># .scss and .sass</span></span><br><span class=\"line\"> pnpm add -D sass</span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"comment\"># .less</span></span><br><span class=\"line\"> pnpm add -D less</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>使用在 .vue 文件模板中</li>\n</ol>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// .scss</span></span><br><span class=\"line\"> &lt;template&gt;</span><br><span class=\"line\">     <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;root&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">         <span class=\"tag\">&lt;<span class=\"name\">h3</span>&gt;</span>欢迎使用 scss<span class=\"tag\">&lt;/<span class=\"name\">h3</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">     <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"> &lt;/template&gt;</span><br><span class=\"line\"> <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">style</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;scss&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">   .root &#123;&#125;</span></span><br><span class=\"line\"><span class=\"language-xml\"> <span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// .less</span></span><br><span class=\"line\"> <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">     <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;root&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">         <span class=\"tag\">&lt;<span class=\"name\">h3</span>&gt;</span>欢迎使用 less<span class=\"tag\">&lt;/<span class=\"name\">h3</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">     <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"> <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span></span><br><span class=\"line\"> <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">style</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;less&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">   .root &#123;&#125;</span></span><br><span class=\"line\"><span class=\"language-xml\"> <span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n<h1 id=\"7-集成-axios\"><a class=\"markdownIt-Anchor\" href=\"#7-集成-axios\">#</a> 7. 集成  <code>axios</code></h1>\n<p><code>axios</code>  是一个基于 promise 的 HTTP 库，可以用在浏览器和 node.js 中。</p>\n<h2 id=\"安装-4\"><a class=\"markdownIt-Anchor\" href=\"#安装-4\">#</a> 安装</h2>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> pnpm i axios</span><br></pre></td></tr></table></figure>\n<h2 id=\"使用-4\"><a class=\"markdownIt-Anchor\" href=\"#使用-4\">#</a> 使用：</h2>\n<ol>\n<li>新建 src/utils/axios.ts</li>\n</ol>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> axios, &#123; <span class=\"title class_\">AxiosResponse</span>, <span class=\"title class_\">AxiosRequestConfig</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;axios&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> service = axios.<span class=\"title function_\">create</span>(); <span class=\"comment\">// Request interceptors</span></span><br><span class=\"line\"></span><br><span class=\"line\">service.<span class=\"property\">interceptors</span>.<span class=\"property\">request</span>.<span class=\"title function_\">use</span>(</span><br><span class=\"line\">  <span class=\"function\">(<span class=\"params\">config: AxiosRequestConfig</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// do something</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> config;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"function\">(<span class=\"params\">error: <span class=\"built_in\">any</span></span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"title class_\">Promise</span>.<span class=\"title function_\">reject</span>(error);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">); <span class=\"comment\">// Response interceptors</span></span><br><span class=\"line\"></span><br><span class=\"line\">service.<span class=\"property\">interceptors</span>.<span class=\"property\">response</span>.<span class=\"title function_\">use</span>(</span><br><span class=\"line\">  <span class=\"keyword\">async</span> (<span class=\"attr\">response</span>: <span class=\"title class_\">AxiosResponse</span>) =&gt; &#123;</span><br><span class=\"line\">    <span class=\"comment\">// do something</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"function\">(<span class=\"params\">error: <span class=\"built_in\">any</span></span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// do something</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"title class_\">Promise</span>.<span class=\"title function_\">reject</span>(error);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> service;</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>在页面中使用即可</li>\n</ol>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script lang=<span class=\"string\">&quot;ts&quot;</span>&gt;</span><br><span class=\"line\">    <span class=\"keyword\">import</span> request <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@/utils/axios&#x27;</span>;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"title function_\">requestRes</span> = <span class=\"keyword\">async</span> (<span class=\"params\"></span>) =&gt; &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> result = <span class=\"keyword\">await</span> <span class=\"title function_\">request</span>(&#123;</span><br><span class=\"line\">                    <span class=\"attr\">url</span>: <span class=\"string\">&#x27;/api/xxx&#x27;</span>,</span><br><span class=\"line\">                    <span class=\"attr\">method</span>: <span class=\"string\">&#x27;get&#x27;</span></span><br><span class=\"line\">                  &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n<h2 id=\"封装请求参数和响应数据的所有-api-可选项\"><a class=\"markdownIt-Anchor\" href=\"#封装请求参数和响应数据的所有-api-可选项\">#</a> 封装请求参数和响应数据的所有 api (可选项)</h2>\n<ol>\n<li>新建  <code>src/api/index.ts</code></li>\n</ol>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> * <span class=\"keyword\">as</span> login <span class=\"keyword\">from</span> <span class=\"string\">&quot;./module/login&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> * <span class=\"keyword\">as</span> index <span class=\"keyword\">from</span> <span class=\"string\">&quot;./module/index&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title class_\">Object</span>.<span class=\"title function_\">assign</span>(&#123;&#125;, login, index);</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>新建  <code>src/api/module/login.ts</code>  和  <code>src/api/module/index.ts</code></li>\n</ol>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> request <span class=\"keyword\">from</span> <span class=\"string\">&quot;@/utils/axios&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 登录</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">interface</span> <span class=\"title class_\">IResponseType</span>&lt;P = &#123;&#125;&gt; &#123;</span><br><span class=\"line\">  code?: <span class=\"built_in\">number</span>;</span><br><span class=\"line\">  <span class=\"attr\">status</span>: <span class=\"built_in\">number</span>;</span><br><span class=\"line\">  <span class=\"attr\">msg</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">  <span class=\"attr\">data</span>: P;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">interface</span> <span class=\"title class_\">ILogin</span> &#123;</span><br><span class=\"line\">  <span class=\"attr\">token</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">  <span class=\"attr\">expires</span>: <span class=\"built_in\">number</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title function_\">login</span> = (<span class=\"params\">username: <span class=\"built_in\">string</span>, password: <span class=\"built_in\">string</span></span>) =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> request&lt;<span class=\"title class_\">IResponseType</span>&lt;<span class=\"title class_\">ILogin</span>&gt;&gt;(&#123;</span><br><span class=\"line\">    <span class=\"attr\">url</span>: <span class=\"string\">&quot;/api/auth/login&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">method</span>: <span class=\"string\">&quot;post&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">data</span>: &#123;</span><br><span class=\"line\">      username,</span><br><span class=\"line\">      password,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>由于使用了 typescript，所以需新增  <code>src/types/shims-axios.d.ts</code></li>\n</ol>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">AxiosRequestConfig</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;axios&quot;</span>;</span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 自定义扩展axios模块</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@author</span> <span class=\"variable\">Maybe</span></span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">declare</span> <span class=\"variable language_\">module</span> <span class=\"string\">&quot;axios&quot;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">export</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">AxiosInstance</span> &#123;</span><br><span class=\"line\">    &lt;T = <span class=\"built_in\">any</span>&gt;(<span class=\"attr\">config</span>: <span class=\"title class_\">AxiosRequestConfig</span>): <span class=\"title class_\">Promise</span>&lt;T&gt;;</span><br><span class=\"line\">    request&lt;T = <span class=\"built_in\">any</span>&gt;(<span class=\"attr\">config</span>: <span class=\"title class_\">AxiosRequestConfig</span>): <span class=\"title class_\">Promise</span>&lt;T&gt;;</span><br><span class=\"line\">    get&lt;T = <span class=\"built_in\">any</span>&gt;(<span class=\"attr\">url</span>: <span class=\"built_in\">string</span>, config?: <span class=\"title class_\">AxiosRequestConfig</span>): <span class=\"title class_\">Promise</span>&lt;T&gt;;</span><br><span class=\"line\">    <span class=\"keyword\">delete</span>&lt;T = <span class=\"built_in\">any</span>&gt;(<span class=\"attr\">url</span>: <span class=\"built_in\">string</span>, config?: <span class=\"title class_\">AxiosRequestConfig</span>): <span class=\"title class_\">Promise</span>&lt;T&gt;;</span><br><span class=\"line\">    head&lt;T = <span class=\"built_in\">any</span>&gt;(<span class=\"attr\">url</span>: <span class=\"built_in\">string</span>, config?: <span class=\"title class_\">AxiosRequestConfig</span>): <span class=\"title class_\">Promise</span>&lt;T&gt;;</span><br><span class=\"line\">    post&lt;T = <span class=\"built_in\">any</span>&gt;(<span class=\"attr\">url</span>: <span class=\"built_in\">string</span>, data?: <span class=\"built_in\">any</span>, config?: <span class=\"title class_\">AxiosRequestConfig</span>): <span class=\"title class_\">Promise</span>&lt;T&gt;;</span><br><span class=\"line\">    put&lt;T = <span class=\"built_in\">any</span>&gt;(<span class=\"attr\">url</span>: <span class=\"built_in\">string</span>, data?: <span class=\"built_in\">any</span>, config?: <span class=\"title class_\">AxiosRequestConfig</span>): <span class=\"title class_\">Promise</span>&lt;T&gt;;</span><br><span class=\"line\">    patch&lt;T = <span class=\"built_in\">any</span>&gt;(<span class=\"attr\">url</span>: <span class=\"built_in\">string</span>, data?: <span class=\"built_in\">any</span>, config?: <span class=\"title class_\">AxiosRequestConfig</span>): <span class=\"title class_\">Promise</span>&lt;T&gt;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ol start=\"4\">\n<li>在  <code>src/pages/request.vue</code>  页面中使用</li>\n</ol>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script lang=<span class=\"string\">&quot;ts&quot;</span>&gt;</span><br><span class=\"line\">    <span class=\"keyword\">import</span> <span class=\"variable constant_\">API</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@/api&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"title function_\">requestRes</span> = <span class=\"keyword\">async</span> (<span class=\"params\"></span>) =&gt; &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> result = <span class=\"keyword\">await</span> <span class=\"variable constant_\">API</span>.<span class=\"title function_\">login</span>(<span class=\"string\">&#x27;zhangsan&#x27;</span>, <span class=\"string\">&#x27;123456&#x27;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h1 id=\"8-css-的-ui-样式库\"><a class=\"markdownIt-Anchor\" href=\"#8-css-的-ui-样式库\">#</a> 8. css 的 UI 样式库</h1>\n<blockquote>\n<p>可选很多，根据自己项目的需求去进行选择即可</p>\n</blockquote>\n<p><strong>注意：UI 库一般需要按需引入（下面以  <code>element-plus</code>  为例）</strong></p>\n<ol>\n<li>安装  <code>vite-plugin-style-import</code></li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm i vite-plugin-style-import --save-dev</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>修改  <code>vite.config.ts</code></li>\n</ol>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">import</span> styleImport <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vite-plugin-style-import&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title function_\">defineConfig</span>(&#123;</span><br><span class=\"line\">    ...</span><br><span class=\"line\">    <span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">        <span class=\"title function_\">vue</span>(),</span><br><span class=\"line\">        <span class=\"title function_\">styleImport</span>(&#123;</span><br><span class=\"line\">            <span class=\"attr\">libs</span>: [</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"attr\">libraryName</span>: <span class=\"string\">&#x27;element-plus&#x27;</span>,</span><br><span class=\"line\">                    <span class=\"attr\">esModule</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">                    <span class=\"attr\">resolveStyle</span>: <span class=\"function\">(<span class=\"params\">name</span>) =&gt;</span> &#123;</span><br><span class=\"line\">                        <span class=\"keyword\">return</span> <span class=\"string\">`element-plus/lib/theme-chalk/<span class=\"subst\">$&#123;name&#125;</span>.css`</span>;</span><br><span class=\"line\">                    &#125;,</span><br><span class=\"line\">                    <span class=\"attr\">ensureStyleFile</span>: <span class=\"literal\">true</span> <span class=\"comment\">// 忽略文件是否存在, 导入不存在的CSS文件时防止错误。</span></span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            ]</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    ],</span><br><span class=\"line\">    ...</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h1 id=\"9-使用-commitizen-规范-git-提交\"><a class=\"markdownIt-Anchor\" href=\"#9-使用-commitizen-规范-git-提交\">#</a> 9. 使用 <a href=\"https://github.com/commitizen/cz-cli\">commitizen</a> 规范 git 提交</h1>\n<p>为了使团队多人协作更加的规范，所以需要每次在 git 提交的时候，做一次硬性规范提交，规范 git 的提交信息</p>\n<h2 id=\"安装-commitizen-交互式提交-自定义提示文案-commit-规范\"><a class=\"markdownIt-Anchor\" href=\"#安装-commitizen-交互式提交-自定义提示文案-commit-规范\">#</a> 安装  <code>commitizen</code>  (交互式提交 + 自定义提示文案 + Commit 规范)</h2>\n<ol>\n<li>安装</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm install -D commitizen cz-conventional-changelog @commitlint/config-conventional @commitlint/cli commitlint-config-cz cz-customizable</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>配置  <code>package.json</code></li>\n</ol>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\">  <span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;commit:comment&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;引导设置规范化的提交信息&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;commit&quot;</span><span class=\"punctuation\">:</span><span class=\"string\">&quot;git-cz&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">&quot;config&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;commitizen&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">        <span class=\"attr\">&quot;path&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;node_modules/cz-customizable&quot;</span></span><br><span class=\"line\">      <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>新增配置  <code>commitlint.config.js</code></li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">extends</span>: [<span class=\"string\">&quot;@commitlint/config-conventional&quot;</span>, <span class=\"string\">&quot;cz&quot;</span>],</span><br><span class=\"line\">  <span class=\"attr\">rules</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;type-enum&quot;</span>: [</span><br><span class=\"line\">      <span class=\"number\">2</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;always&quot;</span>,</span><br><span class=\"line\">      [</span><br><span class=\"line\">        <span class=\"string\">&quot;feature&quot;</span>, <span class=\"comment\">// 新功能（feature）</span></span><br><span class=\"line\">        <span class=\"string\">&quot;bug&quot;</span>, <span class=\"comment\">// 此项特别针对bug号，用于向测试反馈bug列表的bug修改情况</span></span><br><span class=\"line\">        <span class=\"string\">&quot;fix&quot;</span>, <span class=\"comment\">// 修补bug</span></span><br><span class=\"line\">        <span class=\"string\">&quot;ui&quot;</span>, <span class=\"comment\">// 更新 ui</span></span><br><span class=\"line\">        <span class=\"string\">&quot;docs&quot;</span>, <span class=\"comment\">// 文档（documentation）</span></span><br><span class=\"line\">        <span class=\"string\">&quot;style&quot;</span>, <span class=\"comment\">// 格式（不影响代码运行的变动）</span></span><br><span class=\"line\">        <span class=\"string\">&quot;perf&quot;</span>, <span class=\"comment\">// 性能优化</span></span><br><span class=\"line\">        <span class=\"string\">&quot;release&quot;</span>, <span class=\"comment\">// 发布</span></span><br><span class=\"line\">        <span class=\"string\">&quot;deploy&quot;</span>, <span class=\"comment\">// 部署</span></span><br><span class=\"line\">        <span class=\"string\">&quot;refactor&quot;</span>, <span class=\"comment\">// 重构（即不是新增功能，也不是修改bug的代码变动）</span></span><br><span class=\"line\">        <span class=\"string\">&quot;test&quot;</span>, <span class=\"comment\">// 增加测试</span></span><br><span class=\"line\">        <span class=\"string\">&quot;chore&quot;</span>, <span class=\"comment\">// 构建过程或辅助工具的变动</span></span><br><span class=\"line\">        <span class=\"string\">&quot;revert&quot;</span>, <span class=\"comment\">// feat(pencil): add ‘graphiteWidth’ option (撤销之前的commit)</span></span><br><span class=\"line\">        <span class=\"string\">&quot;merge&quot;</span>, <span class=\"comment\">// 合并分支， 例如： merge（前端页面）： feature-xxxx修改线程地址</span></span><br><span class=\"line\">        <span class=\"string\">&quot;build&quot;</span>, <span class=\"comment\">// 打包</span></span><br><span class=\"line\">      ],</span><br><span class=\"line\">    ],</span><br><span class=\"line\">    <span class=\"comment\">// &lt;type&gt; 格式 小写</span></span><br><span class=\"line\">    <span class=\"string\">&quot;type-case&quot;</span>: [<span class=\"number\">2</span>, <span class=\"string\">&quot;always&quot;</span>, <span class=\"string\">&quot;lower-case&quot;</span>],</span><br><span class=\"line\">    <span class=\"comment\">// &lt;type&gt; 不能为空</span></span><br><span class=\"line\">    <span class=\"string\">&quot;type-empty&quot;</span>: [<span class=\"number\">2</span>, <span class=\"string\">&quot;never&quot;</span>],</span><br><span class=\"line\">    <span class=\"comment\">// &lt;scope&gt; 范围不能为空</span></span><br><span class=\"line\">    <span class=\"string\">&quot;scope-empty&quot;</span>: [<span class=\"number\">2</span>, <span class=\"string\">&quot;never&quot;</span>],</span><br><span class=\"line\">    <span class=\"comment\">// &lt;scope&gt; 范围格式</span></span><br><span class=\"line\">    <span class=\"string\">&quot;scope-case&quot;</span>: [<span class=\"number\">0</span>],</span><br><span class=\"line\">    <span class=\"comment\">// &lt;subject&gt; 主要 message 不能为空</span></span><br><span class=\"line\">    <span class=\"string\">&quot;subject-empty&quot;</span>: [<span class=\"number\">2</span>, <span class=\"string\">&quot;never&quot;</span>],</span><br><span class=\"line\">    <span class=\"comment\">// &lt;subject&gt; 以什么为结束标志，禁用</span></span><br><span class=\"line\">    <span class=\"string\">&quot;subject-full-stop&quot;</span>: [<span class=\"number\">0</span>, <span class=\"string\">&quot;never&quot;</span>],</span><br><span class=\"line\">    <span class=\"comment\">// &lt;subject&gt; 格式，禁用</span></span><br><span class=\"line\">    <span class=\"string\">&quot;subject-case&quot;</span>: [<span class=\"number\">0</span>, <span class=\"string\">&quot;never&quot;</span>],</span><br><span class=\"line\">    <span class=\"comment\">// &lt;body&gt; 以空行开头</span></span><br><span class=\"line\">    <span class=\"string\">&quot;body-leading-blank&quot;</span>: [<span class=\"number\">1</span>, <span class=\"string\">&quot;always&quot;</span>],</span><br><span class=\"line\">    <span class=\"string\">&quot;header-max-length&quot;</span>: [<span class=\"number\">0</span>, <span class=\"string\">&quot;always&quot;</span>, <span class=\"number\">72</span>],</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<ol start=\"4\">\n<li>自定义提示则添加  <code>.cz-config.js</code></li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">types</span>: [</span><br><span class=\"line\">    &#123; <span class=\"attr\">value</span>: <span class=\"string\">&quot;feature&quot;</span>, <span class=\"attr\">name</span>: <span class=\"string\">&quot;feature:  增加新功能&quot;</span> &#125;,</span><br><span class=\"line\">    &#123; <span class=\"attr\">value</span>: <span class=\"string\">&quot;bug&quot;</span>, <span class=\"attr\">name</span>: <span class=\"string\">&quot;bug:      测试反馈bug列表中的bug号&quot;</span> &#125;,</span><br><span class=\"line\">    &#123; <span class=\"attr\">value</span>: <span class=\"string\">&quot;fix&quot;</span>, <span class=\"attr\">name</span>: <span class=\"string\">&quot;fix:      修复bug&quot;</span> &#125;,</span><br><span class=\"line\">    &#123; <span class=\"attr\">value</span>: <span class=\"string\">&quot;ui&quot;</span>, <span class=\"attr\">name</span>: <span class=\"string\">&quot;ui:       更新UI&quot;</span> &#125;,</span><br><span class=\"line\">    &#123; <span class=\"attr\">value</span>: <span class=\"string\">&quot;docs&quot;</span>, <span class=\"attr\">name</span>: <span class=\"string\">&quot;docs:     文档变更&quot;</span> &#125;,</span><br><span class=\"line\">    &#123; <span class=\"attr\">value</span>: <span class=\"string\">&quot;style&quot;</span>, <span class=\"attr\">name</span>: <span class=\"string\">&quot;style:    代码格式(不影响代码运行的变动)&quot;</span> &#125;,</span><br><span class=\"line\">    &#123; <span class=\"attr\">value</span>: <span class=\"string\">&quot;perf&quot;</span>, <span class=\"attr\">name</span>: <span class=\"string\">&quot;perf:     性能优化&quot;</span> &#125;,</span><br><span class=\"line\">    &#123; <span class=\"attr\">value</span>: <span class=\"string\">&quot;refactor&quot;</span>, <span class=\"attr\">name</span>: <span class=\"string\">&quot;refactor: 重构(既不是增加feature，也不是修复bug)&quot;</span> &#125;,</span><br><span class=\"line\">    &#123; <span class=\"attr\">value</span>: <span class=\"string\">&quot;release&quot;</span>, <span class=\"attr\">name</span>: <span class=\"string\">&quot;release:  发布&quot;</span> &#125;,</span><br><span class=\"line\">    &#123; <span class=\"attr\">value</span>: <span class=\"string\">&quot;deploy&quot;</span>, <span class=\"attr\">name</span>: <span class=\"string\">&quot;deploy:   部署&quot;</span> &#125;,</span><br><span class=\"line\">    &#123; <span class=\"attr\">value</span>: <span class=\"string\">&quot;test&quot;</span>, <span class=\"attr\">name</span>: <span class=\"string\">&quot;test:     增加测试&quot;</span> &#125;,</span><br><span class=\"line\">    &#123; <span class=\"attr\">value</span>: <span class=\"string\">&quot;chore&quot;</span>, <span class=\"attr\">name</span>: <span class=\"string\">&quot;chore:    构建过程或辅助工具的变动(更改配置文件)&quot;</span> &#125;,</span><br><span class=\"line\">    &#123; <span class=\"attr\">value</span>: <span class=\"string\">&quot;revert&quot;</span>, <span class=\"attr\">name</span>: <span class=\"string\">&quot;revert:   回退&quot;</span> &#125;,</span><br><span class=\"line\">    &#123; <span class=\"attr\">value</span>: <span class=\"string\">&quot;build&quot;</span>, <span class=\"attr\">name</span>: <span class=\"string\">&quot;build:    打包&quot;</span> &#125;,</span><br><span class=\"line\">  ],</span><br><span class=\"line\">  <span class=\"comment\">// override the messages, defaults are as follows</span></span><br><span class=\"line\">  <span class=\"attr\">messages</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">type</span>: <span class=\"string\">&quot;请选择提交类型:&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">customScope</span>: <span class=\"string\">&quot;请输入您修改的范围(可选):&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">subject</span>: <span class=\"string\">&quot;请简要描述提交 message (必填):&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">body</span>: <span class=\"string\">&quot;请输入详细描述(可选，待优化去除，跳过即可):&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">footer</span>: <span class=\"string\">&quot;请输入要关闭的issue(待优化去除，跳过即可):&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">confirmCommit</span>: <span class=\"string\">&quot;确认使用以上信息提交？(y/n/e/h)&quot;</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">allowCustomScopes</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">  <span class=\"attr\">skipQuestions</span>: [<span class=\"string\">&quot;body&quot;</span>, <span class=\"string\">&quot;footer&quot;</span>],</span><br><span class=\"line\">  <span class=\"attr\">subjectLimit</span>: <span class=\"number\">72</span>,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<ol start=\"5\">\n<li>交互界面测试</li>\n</ol>\n<p><img src=\"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d2be96b13d3c427e919b11e5bc5404e4~tplv-k3u1fbpfcp-watermark.image?\" alt=\"carbon.png\"></p>\n<ul>\n<li>到目前只是规范了 git 的提交信息，我们对提交前代码的检查还没有做到位，例如 ESLint、Prettier，毕竟谁都会有疏忽的时候，</li>\n<li>那么现在我们的 husky 就闪亮登场了</li>\n</ul>\n<h2 id=\"安装-husky\"><a class=\"markdownIt-Anchor\" href=\"#安装-husky\">#</a> 安装 husky</h2>\n<ol>\n<li>安装</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 1.安装</span></span><br><span class=\"line\">pnpm i husky lint-staged -D</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 2.生成 .husky 的文件夹</span></span><br><span class=\"line\">npx husky install</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 3.添加 hooks，会在 .husky 目录下生成一个 pre-commit 脚本文件</span></span><br><span class=\"line\">npx husky add .husky/pre-commit <span class=\"string\">&quot;npx --no-install lint-staged&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 4.添加 commit-msg</span></span><br><span class=\"line\">npx husky add .husky/commit-msg <span class=\"string\">&#x27;npx --no-install commitlint --edit &quot;$1&quot;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 5. 使用 `git commit -m &quot;message&quot;` 就会看到 hook 生效了。</span></span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>添加配置  <code>package.json</code></li>\n</ol>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\">  <span class=\"attr\">&quot;lint-staged&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    \t<span class=\"attr\">&quot;*.&#123;js,ts&#125;&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span></span><br><span class=\"line\">            <span class=\"string\">&quot;npm run eslint&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">            <span class=\"string\">&quot;npm run prettier&quot;</span></span><br><span class=\"line\">    \t<span class=\"punctuation\">]</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"提交日志可选\"><a class=\"markdownIt-Anchor\" href=\"#提交日志可选\">#</a> 提交日志（可选）</h2>\n<ul>\n<li><a href=\"https://github.com/conventional-changelog/standard-version\">standard-version</a> 或者 <a href=\"https://github.com/conventional-changelog/conventional-changelog\">conventional-changelog</a></li>\n</ul>\n<h1 id=\"最后\"><a class=\"markdownIt-Anchor\" href=\"#最后\">#</a> 最后</h1>\n<p>该系列会是一个持续更新系列，关于整个《Vite 从入门到精通》，我主要会从如下图几个方面讲解，请大家拭目以待吧！！！</p>\n<p><img src=\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/52ee2485e3484e8e8d995fbbb7e86835~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?\" alt=\"Untitled.png\"></p>\n<p><code>靓仔靓女们</code> ，都看到这里了，要不点个赞再走呗 🌹🌹🌹</p>\n",
            "tags": [
                "TypeScript",
                "vue3",
                "pinia",
                "vite",
                "VueUse"
            ]
        },
        {
            "id": "https://eucli.top/2023/03/10/%E6%8B%9B%E7%94%9F%E6%8F%90%E6%8A%A5%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE/",
            "url": "https://eucli.top/2023/03/10/%E6%8B%9B%E7%94%9F%E6%8F%90%E6%8A%A5%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE/",
            "title": "招生提报系统",
            "date_published": "2023-03-10T10:45:34.000Z",
            "content_html": "<p>在开发组混了那么久，本菜狗终于要参与项目了吗，虽然只是蹭项目，虽然这次的技术栈我一个也不熟悉，但是扑街就是蜜汁自信嗷 ┗|｀ O′|┛ ~~<br>\n 希望能在这次的项目开发中学到些东西吧，毕竟都大二下学期了，天天被卷的焦虑，再不好好学就真的要去搬砖廖～</p>\n<h1 id=\"day1\"><a class=\"markdownIt-Anchor\" href=\"#day1\">#</a> Day1</h1>\n<p>跟着大佬学习才知道在进行一个项目的开发前还需要写产品文档和技术文档，感觉有必要记录一下：</p>\n<h2 id=\"开发文档\"><a class=\"markdownIt-Anchor\" href=\"#开发文档\">#</a> 开发文档</h2>\n<ol>\n<li>需求背景 先把要做的事情铺垫下背景，上下文交代清楚，谁来看都明白要给谁做</li>\n<li>现状、预期目标和收益 把做之前和做之后做个对比</li>\n<li>产品调研（就是相关产品都是咋做的，实在没有可以不写）</li>\n<li>产品整体功能设计 这里就可以拆大概的功能模块了<br>\n ps. 技术栈和稍微偏技术一些的分析就不用单独拉个模块了，可以穿插在文档里，甚至直接不写。整体设计里面如果想拆的更细一点也可以把详细设计都加上，每个模块每个页面给个原型图和大概的交互逻辑，然后有异常处理之类的</li>\n</ol>\n<h2 id=\"技术文档\"><a class=\"markdownIt-Anchor\" href=\"#技术文档\">#</a> 技术文档</h2>\n<p>技术文档首先是需求反讲，然后是详细模块方案，接口方案，兼容性与异常兜底方案等等，然后是方案初筛检查，备选方案列表，功能开关，自测用例表，性能测试表，排期</p>\n<ul>\n<li>还有就是飞书原来那么强大，功能特别丰富，能画流程图、甘特图，还能在文档里导入各种东西，实在是太方便辣！之前一直只是听说过，看来真的有必要重视起来嗷。还用到了 sourcetree、apifox，基本都是第一次听说过，之前更是用都没用过，我平时只是看 b 站的视频来学习，缺少实战，有很多问题都解决不了。</li>\n</ul>\n<p>因为讨论出来大体流程后已经挺晚的了，加上这次项目只有三个人（两个前端一个后端），还有一个学后端的大三学长提供场外支援，项目要的不是很急，要到八月份，所以理论上事件还是很充足的，不过考虑到两个前端中有我这个菜狗在拖后腿，究竟能多块也不好说。</p>\n<p>我现在的任务是做招生提报系统的登录页面，直接 CV 了之前橙果官网的登录页，但因为橙果用的是 vue2，新项目全特喵是新技术（Vue3、TypeScript、Element Plus、Pinia 和 Vite ），当然一个登录页用不到这么多东西，但是对于本菜狗来说搬运起来还是很痛苦的.</p>\n<h1 id=\"day2\"><a class=\"markdownIt-Anchor\" href=\"#day2\">#</a> Day2</h1>\n<p>耗费了整整一天，而且基本还是在大佬的帮助下才堪堪完成了登录页面，在 sourcetree 上提交分支并合并，过程可谓是折磨，因为自己不会的太多而别人会的太多而焦虑自我损耗，老玻璃心了嗷。全称基本不是在 CV 就是在面向搜索引擎，气死偶咧！<br>\n但好歹是把登录页面给弄出来了，还是记录一下吧 ┭┮﹏┭┮……</p>\n<ol>\n<li><code>App.vue</code>  中 <code>&lt;template&gt;&lt;/template&gt;</code>  里写：</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">  &lt;router-view v-slot=&quot;&#123; Component &#125;&quot;&gt;</span><br><span class=\"line\">    &lt;transition&gt;</span><br><span class=\"line\">      &lt;component :is=&quot;Component&quot; /&gt;</span><br><span class=\"line\">    &lt;/transition&gt;</span><br><span class=\"line\">  &lt;/router-view&gt;</span><br><span class=\"line\">&lt;/template&gt;</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>在 pages 文件夹下创建 <code>Login.vue</code> ，cv 过来的，就个表单，用的是 element-plus，很方便，别人封装好的就是好看又好用！<br>\nelement-plus 有专门的 Form 表单组件，而且自定义性非常的高，可以设置行内表单（一行内显示），对齐方式。<br>\n而且还能够进行表单校验，来验证用户输入是否符合规范，只需要为 <code>rules</code>  属性传入约定的验证规则，并将 <code>form-Item</code>  的 <code>prop</code>  属性设置为需要验证的特殊值就好了！就比如 <code>&lt;el-form&gt;</code>  中有 <code>&lt;el-form ref=&quot;ruleFormRef&quot; :model=&quot;ruleForm&quot; :model=&quot;ruleForm&quot;&gt;</code> ，该标签包含:</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;el-form-item label=<span class=\"string\">&quot;Activity name&quot;</span> prop=<span class=\"string\">&quot;name&quot;</span>&gt;</span><br><span class=\"line\">  <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">el-input</span> <span class=\"attr\">v-model</span>=<span class=\"string\">&quot;ruleForm.name&quot;</span> /&gt;</span></span></span><br><span class=\"line\">&lt;/el-form-item&gt;</span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">el-form-item</span> <span class=\"attr\">label</span>=<span class=\"string\">&quot;Activity zone&quot;</span> <span class=\"attr\">prop</span>=<span class=\"string\">&quot;region&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">  <span class=\"tag\">&lt;<span class=\"name\">el-select</span> <span class=\"attr\">v-model</span>=<span class=\"string\">&quot;ruleForm.region&quot;</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">&quot;Activity zone&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">el-option</span> <span class=\"attr\">label</span>=<span class=\"string\">&quot;Zone one&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;shanghai&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">el-option</span> <span class=\"attr\">label</span>=<span class=\"string\">&quot;Zone two&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;beijing&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">  <span class=\"tag\">&lt;/<span class=\"name\">el-select</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">el-form-item</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n<p>其中 <code>name</code>  和 <code>region</code>  作为 <code>prop</code>  是 <code>:model</code>  的键名，写验证的时候就可以:</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> ruleFormRef = ref&lt;<span class=\"title class_\">FormInstance</span>&gt;()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> ruleForm = <span class=\"title function_\">reactive</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">region</span>: <span class=\"string\">&#x27;&#x27;</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> rules = reactive&lt;<span class=\"title class_\">FormRules</span>&gt;(&#123;</span><br><span class=\"line\">  <span class=\"attr\">name</span>: [</span><br><span class=\"line\">    &#123; <span class=\"attr\">required</span>: <span class=\"literal\">true</span>, <span class=\"attr\">message</span>: <span class=\"string\">&#x27;Please input Activity name&#x27;</span>, <span class=\"attr\">trigger</span>: <span class=\"string\">&#x27;blur&#x27;</span> &#125;,</span><br><span class=\"line\">    &#123; <span class=\"attr\">min</span>: <span class=\"number\">3</span>, <span class=\"attr\">max</span>: <span class=\"number\">5</span>, <span class=\"attr\">message</span>: <span class=\"string\">&#x27;Length should be 3 to 5&#x27;</span>, <span class=\"attr\">trigger</span>: <span class=\"string\">&#x27;blur&#x27;</span> &#125;,</span><br><span class=\"line\">  ],</span><br><span class=\"line\">  <span class=\"attr\">region</span>: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">required</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      <span class=\"attr\">message</span>: <span class=\"string\">&#x27;Please select Activity zone&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">trigger</span>: <span class=\"string\">&#x27;change&#x27;</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<p>还可以对表单进行尺寸控制，设置 <code>size</code>  属性。</p>\n<h3 id=\"form-attributes\"><a class=\"markdownIt-Anchor\" href=\"#form-attributes\">#</a> Form Attributes：</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">属性名</th>\n<th style=\"text-align:left\">说明</th>\n<th style=\"text-align:left\">类型</th>\n<th style=\"text-align:left\">默认值</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">model</td>\n<td style=\"text-align:left\">表单数据对象</td>\n<td style=\"text-align:left\"><code>object</code></td>\n<td style=\"text-align:left\">—</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">rules</td>\n<td style=\"text-align:left\">表单验证规则</td>\n<td style=\"text-align:left\"><code>object</code></td>\n<td style=\"text-align:left\">—</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">inline</td>\n<td style=\"text-align:left\">行内表单模式</td>\n<td style=\"text-align:left\"><code>boolean</code></td>\n<td style=\"text-align:left\">false</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">label-position</td>\n<td style=\"text-align:left\">表单域标签的位置， 当设置为  <code>left</code>  或  <code>right</code>  时，则也需要设置  <code>label-width</code>  属性</td>\n<td style=\"text-align:left\"><code>enum</code></td>\n<td style=\"text-align:left\">right</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">label-width</td>\n<td style=\"text-align:left\">标签的长度，例如  <code>'50px'</code> 。 作为 Form 直接子元素的 form-item 会继承该值。 可以使用  <code>auto</code> 。</td>\n<td style=\"text-align:left\"><code>string</code>  /  <code>number</code></td>\n<td style=\"text-align:left\">—</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">label-suffix</td>\n<td style=\"text-align:left\">表单域标签的后缀</td>\n<td style=\"text-align:left\"><code>string</code></td>\n<td style=\"text-align:left\">—</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">hide-required-asterisk</td>\n<td style=\"text-align:left\">是否隐藏必填字段标签旁边的红色星号。</td>\n<td style=\"text-align:left\"><code>boolean</code></td>\n<td style=\"text-align:left\">false</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">require-asterisk-position</td>\n<td style=\"text-align:left\">星号的位置。</td>\n<td style=\"text-align:left\"><code>enum</code></td>\n<td style=\"text-align:left\">left</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">show-message</td>\n<td style=\"text-align:left\">是否显示校验错误信息</td>\n<td style=\"text-align:left\"><code>boolean</code></td>\n<td style=\"text-align:left\">true</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">inline-message</td>\n<td style=\"text-align:left\">是否以行内形式展示校验信息</td>\n<td style=\"text-align:left\"><code>boolean</code></td>\n<td style=\"text-align:left\">false</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">status-icon</td>\n<td style=\"text-align:left\">是否在输入框中显示校验结果反馈图标</td>\n<td style=\"text-align:left\"><code>boolean</code></td>\n<td style=\"text-align:left\">false</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">validate-on-rule-change</td>\n<td style=\"text-align:left\">是否在  <code>rules</code>  属性改变后立即触发一次验证</td>\n<td style=\"text-align:left\"><code>boolean</code></td>\n<td style=\"text-align:left\">true</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">size</td>\n<td style=\"text-align:left\">用于控制该表单内组件的尺寸</td>\n<td style=\"text-align:left\"><code>enum</code></td>\n<td style=\"text-align:left\">—</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">disabled</td>\n<td style=\"text-align:left\">是否禁用该表单内的所有组件。 如果设置为  <code>true</code> , 它将覆盖内部组件的  <code>disabled</code>  属性</td>\n<td style=\"text-align:left\"><code>boolean</code></td>\n<td style=\"text-align:left\">false</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">scroll-to-error</td>\n<td style=\"text-align:left\">当校验失败时，滚动到第一个错误表单项</td>\n<td style=\"text-align:left\"><code>boolean</code></td>\n<td style=\"text-align:left\">false</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"form-methods\"><a class=\"markdownIt-Anchor\" href=\"#form-methods\">#</a> Form Methods：</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">方法名</th>\n<th style=\"text-align:left\">说明</th>\n<th style=\"text-align:left\">类型</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\"><code>validate</code></td>\n<td style=\"text-align:left\">对整个表单的内容进行验证。 接收一个回调函数，或返回  <code>Promise</code> 。</td>\n<td style=\"text-align:left\"><code>(callback?: (isValid: boolean, invalidFields?: ValidateFieldsError) =&gt; void) =&gt; Promise&lt;boolean&gt;</code></td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><code>validateField</code></td>\n<td style=\"text-align:left\">验证具体的某个字段。</td>\n<td style=\"text-align:left\"><code>(props?: Arrayable&lt;FormItemProp&gt;, callback?: (isValid: boolean, invalidFields?: ValidateFieldsError) =&gt; void) =&gt; Promise&lt;void&gt;</code></td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><code>resetFields</code></td>\n<td style=\"text-align:left\">重置该表单项，将其值重置为初始值，并移除校验结果</td>\n<td style=\"text-align:left\"><code>(props?: Arrayable&lt;FormItemProp&gt;) =&gt; void</code></td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><code>scrollToField</code></td>\n<td style=\"text-align:left\">滚动到指定的字段</td>\n<td style=\"text-align:left\"><code>(prop: FormItemProp) =&gt; void</code></td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><code>clearValidate</code></td>\n<td style=\"text-align:left\">清理某个字段的表单验证信息。</td>\n<td style=\"text-align:left\"><code>(props?: Arrayable&lt;FormItemProp&gt;) =&gt; void</code></td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"form-methods-2\"><a class=\"markdownIt-Anchor\" href=\"#form-methods-2\">#</a> Form Methods：</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">事件名</th>\n<th style=\"text-align:left\">说明</th>\n<th style=\"text-align:left\">类型</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">validate</td>\n<td style=\"text-align:left\">任一表单项被校验后触发</td>\n<td style=\"text-align:left\"><code>Function</code></td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"form-methods-3\"><a class=\"markdownIt-Anchor\" href=\"#form-methods-3\">#</a> Form Methods：</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">名称</th>\n<th style=\"text-align:left\">说明</th>\n<th style=\"text-align:left\">类型</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">validate</td>\n<td style=\"text-align:left\">对整个表单的内容进行验证。 接收一个回调函数，或返回  <code>Promise</code> 。</td>\n<td style=\"text-align:left\"><code>Function</code></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">validateField</td>\n<td style=\"text-align:left\">验证具体的某个字段。</td>\n<td style=\"text-align:left\"><code>Function</code></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">resetFields</td>\n<td style=\"text-align:left\">重置该表单项，将其值重置为初始值，并移除校验结果</td>\n<td style=\"text-align:left\"><code>Function</code></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">scrollToField</td>\n<td style=\"text-align:left\">滚动到指定的字段</td>\n<td style=\"text-align:left\"><code>Function</code></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">clearValidate</td>\n<td style=\"text-align:left\">清理某个字段的表单验证信息。</td>\n<td style=\"text-align:left\"><code>Function</code></td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"formitem-attributes\"><a class=\"markdownIt-Anchor\" href=\"#formitem-attributes\">#</a> FormItem Attributes：</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">名称</th>\n<th style=\"text-align:left\">说明</th>\n<th style=\"text-align:left\">类型</th>\n<th style=\"text-align:left\">默认值</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">prop</td>\n<td style=\"text-align:left\"><code>model</code>  的键名。 它可以是一个路径数组 (例如  <code>['a', 'b', 0]</code> )。 在定义了  <code>validate</code> 、 <code>resetFields</code>  的方法时，该属性是必填的</td>\n<td style=\"text-align:left\"><code>string</code>  /  <code>string[]</code></td>\n<td style=\"text-align:left\">—</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">label</td>\n<td style=\"text-align:left\">标签文本</td>\n<td style=\"text-align:left\"><code>string</code></td>\n<td style=\"text-align:left\">—</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">label-width</td>\n<td style=\"text-align:left\">标签宽度，例如  <code>'50px'</code> 。 可以使用  <code>auto</code> 。</td>\n<td style=\"text-align:left\"><code>string</code>  /  <code>number</code></td>\n<td style=\"text-align:left\">—</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">required</td>\n<td style=\"text-align:left\">是否为必填项，如不设置，则会根据校验规则确认</td>\n<td style=\"text-align:left\"><code>boolean</code></td>\n<td style=\"text-align:left\">false</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">rules</td>\n<td style=\"text-align:left\">表单验证规则，具体配置见<a href=\"https://element-plus.gitee.io/zh-CN/component/form.html#formitemrule\">下表</a>，更多内容可以参考<a href=\"https://github.com/yiminghe/async-validator\"> async-validator</a></td>\n<td style=\"text-align:left\"><code>object</code></td>\n<td style=\"text-align:left\">—</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">error</td>\n<td style=\"text-align:left\">表单域验证错误时的提示信息。设置该值会导致表单验证状态变为 error，并显示该错误信息。</td>\n<td style=\"text-align:left\"><code>string</code></td>\n<td style=\"text-align:left\">—</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">show-message</td>\n<td style=\"text-align:left\">是否显示校验错误信息</td>\n<td style=\"text-align:left\"><code>boolean</code></td>\n<td style=\"text-align:left\">true</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">inline-message</td>\n<td style=\"text-align:left\">是否在行内显示校验信息</td>\n<td style=\"text-align:left\"><code>boolean</code></td>\n<td style=\"text-align:left\">false</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">size</td>\n<td style=\"text-align:left\">用于控制该表单域下组件的默认尺寸</td>\n<td style=\"text-align:left\"><code>enum</code></td>\n<td style=\"text-align:left\">default</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">for</td>\n<td style=\"text-align:left\">和原生标签相同能力</td>\n<td style=\"text-align:left\"><code>string</code></td>\n<td style=\"text-align:left\">—</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">validate-status</td>\n<td style=\"text-align:left\">formitem 校验的状态</td>\n<td style=\"text-align:left\"><code>enum</code></td>\n<td style=\"text-align:left\">—</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"formitemrule\"><a class=\"markdownIt-Anchor\" href=\"#formitemrule\">#</a> FormItemRule：</h4>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">插槽名</th>\n<th style=\"text-align:left\">说明</th>\n<th style=\"text-align:left\">类型</th>\n<th style=\"text-align:left\">默认</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">trigger</td>\n<td style=\"text-align:left\">验证逻辑的触发方式</td>\n<td style=\"text-align:left\"><code>enum</code></td>\n<td style=\"text-align:left\">—</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"formitem-slots\"><a class=\"markdownIt-Anchor\" href=\"#formitem-slots\">#</a> FormItem Slots：</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">名称</th>\n<th style=\"text-align:left\">说明</th>\n<th style=\"text-align:left\">类型</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">default</td>\n<td style=\"text-align:left\">表单的内容。</td>\n<td style=\"text-align:left\">—</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">label</td>\n<td style=\"text-align:left\">标签位置显示的内容</td>\n<td style=\"text-align:left\"><code>object</code></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">error</td>\n<td style=\"text-align:left\">验证错误信息的显示内容</td>\n<td style=\"text-align:left\"><code>object</code></td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"formitem-exposes\"><a class=\"markdownIt-Anchor\" href=\"#formitem-exposes\">#</a> FormItem Exposes：</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">名称</th>\n<th style=\"text-align:left\">描述</th>\n<th style=\"text-align:left\">类型</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">size</td>\n<td style=\"text-align:left\">表单项大小</td>\n<td style=\"text-align:left\"><code>object</code></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">validateMessage</td>\n<td style=\"text-align:left\">校验消息</td>\n<td style=\"text-align:left\"><code>object</code></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">validateState</td>\n<td style=\"text-align:left\">校验状态</td>\n<td style=\"text-align:left\"><code>object</code></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">validate</td>\n<td style=\"text-align:left\">验证表单项</td>\n<td style=\"text-align:left\"><code>Function</code></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">resetField</td>\n<td style=\"text-align:left\">对该表单项进行重置，将其值重置为初始值并移除校验结果</td>\n<td style=\"text-align:left\"><code>Function</code></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">clearValidate</td>\n<td style=\"text-align:left\">移除该表单项的校验结果</td>\n<td style=\"text-align:left\"><code>Function</code></td>\n</tr>\n</tbody>\n</table>\n<ol start=\"3\">\n<li>因为登录页用到了 element plus，所以要在 main.ts 中导入：</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; createApp &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">ElementPlus</span> <span class=\"keyword\">from</span> <span class=\"string\">&quot;element-plus&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">&quot;element-plus/dist/index.css&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">App</span> <span class=\"keyword\">from</span> <span class=\"string\">&quot;./App.vue&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> app = <span class=\"title function_\">createApp</span>(<span class=\"title class_\">App</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">app.<span class=\"title function_\">use</span>(<span class=\"title class_\">ElementPlus</span>);</span><br><span class=\"line\">app.<span class=\"title function_\">mount</span>(<span class=\"string\">&quot;#app&quot;</span>);</span><br></pre></td></tr></table></figure>\n<ol start=\"4\">\n<li>因为登录页点了 “登录” 之后要想服务器发请求，所以要从 api 文件夹中引入，我看大佬是把 axios 的二次封装写成 <code>requset.js</code>  放在 utils 文件夹下，然后 api 文件夹中的文件再引入 <code>requset.js</code> 。<br>\naxios 封装如下：</li>\n</ol>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> axios, &#123; <span class=\"title class_\">AxiosRequestConfig</span>, <span class=\"title class_\">AxiosResponse</span>, <span class=\"title class_\">AxiosInstance</span>, <span class=\"title class_\">AxiosError</span>, <span class=\"title class_\">InternalAxiosRequestConfig</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;axios&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">ElLoadingService</span>, <span class=\"title class_\">ElMessage</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;element-plus&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 定义请求响应参数，不含data</span></span><br><span class=\"line\"><span class=\"keyword\">interface</span> <span class=\"title class_\">Result</span> &#123;</span><br><span class=\"line\">  <span class=\"attr\">code</span>: <span class=\"built_in\">number</span>;</span><br><span class=\"line\">  <span class=\"attr\">msg</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 请求响应参数，包含data</span></span><br><span class=\"line\"><span class=\"keyword\">interface</span> <span class=\"title class_\">ResultData</span>&lt;T = <span class=\"built_in\">any</span>&gt; <span class=\"keyword\">extends</span> <span class=\"title class_\">Result</span> &#123;</span><br><span class=\"line\">  data?: T;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> config = &#123;</span><br><span class=\"line\">  <span class=\"attr\">baseURL</span>: <span class=\"keyword\">import</span>.<span class=\"property\">meta</span>.<span class=\"property\">env</span>.<span class=\"property\">VITE_BASE_URL</span>,</span><br><span class=\"line\">  <span class=\"attr\">timeout</span>: (<span class=\"number\">10</span> * <span class=\"number\">1000</span>) <span class=\"keyword\">as</span> <span class=\"built_in\">number</span>, <span class=\"comment\">// 请求超时时间</span></span><br><span class=\"line\">  <span class=\"attr\">withCredentials</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// 跨域时候允许携带凭证</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"attr\">loading</span>: <span class=\"literal\">null</span> | <span class=\"title class_\">ReturnType</span>&lt;<span class=\"keyword\">typeof</span> <span class=\"title class_\">ElLoadingService</span>&gt; = <span class=\"literal\">null</span>;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">RequestHttp</span> &#123;</span><br><span class=\"line\">  <span class=\"attr\">service</span>: <span class=\"title class_\">AxiosInstance</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"title function_\">constructor</span>(<span class=\"params\">config: AxiosRequestConfig</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">service</span> = axios.<span class=\"title function_\">create</span>(config);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// request拦截器</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">service</span>.<span class=\"property\">interceptors</span>.<span class=\"property\">request</span>.<span class=\"title function_\">use</span>(</span><br><span class=\"line\">      <span class=\"function\">(<span class=\"params\">config: InternalAxiosRequestConfig</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!config.<span class=\"property\">headers</span>) <span class=\"keyword\">return</span> config;</span><br><span class=\"line\">        config.<span class=\"property\">headers</span>.<span class=\"property\">Authorization</span> = <span class=\"string\">`Bearer <span class=\"subst\">$&#123;sessionStorage.getItem(<span class=\"string\">&quot;token&quot;</span>)&#125;</span>`</span>;</span><br><span class=\"line\">        config.<span class=\"property\">headers</span>[<span class=\"string\">&quot;Content-Type&quot;</span>] = <span class=\"string\">&quot;application/json;charset=utf-8&quot;</span>;</span><br><span class=\"line\">        loading = <span class=\"title class_\">ElLoadingService</span>(&#123;</span><br><span class=\"line\">          <span class=\"attr\">lock</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">          <span class=\"attr\">text</span>: <span class=\"string\">&quot;加载中&quot;</span>,</span><br><span class=\"line\">          <span class=\"attr\">background</span>: <span class=\"string\">&quot;rgba(0, 0, 0, 0.7)&quot;</span>,</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> config;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"function\">(<span class=\"params\">error: AxiosError</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">error</span>(error);</span><br><span class=\"line\">        <span class=\"title class_\">Promise</span>.<span class=\"title function_\">reject</span>(error);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    );</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// response 拦截器</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">service</span>.<span class=\"property\">interceptors</span>.<span class=\"property\">response</span>.<span class=\"title function_\">use</span>(</span><br><span class=\"line\">      <span class=\"function\">(<span class=\"params\">response: AxiosResponse</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> res = response.<span class=\"property\">data</span>;</span><br><span class=\"line\">        loading?.<span class=\"title function_\">close</span>();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"function\">(<span class=\"params\">error: AxiosError</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">error</span>(<span class=\"string\">&quot;err&quot;</span> + error);</span><br><span class=\"line\">        loading?.<span class=\"title function_\">close</span>();</span><br><span class=\"line\">        <span class=\"title class_\">ElMessage</span>(&#123;</span><br><span class=\"line\">          <span class=\"attr\">message</span>: <span class=\"string\">`网络超时，没有请求到数据`</span>,</span><br><span class=\"line\">          <span class=\"attr\">type</span>: <span class=\"string\">&quot;error&quot;</span>,</span><br><span class=\"line\">          <span class=\"attr\">duration</span>: <span class=\"number\">3</span> * <span class=\"number\">1000</span>,</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"title class_\">Promise</span>.<span class=\"title function_\">reject</span>(error);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 常用方法封装</span></span><br><span class=\"line\">  get&lt;T&gt;(<span class=\"attr\">url</span>: <span class=\"built_in\">string</span>, params?: <span class=\"built_in\">object</span>): <span class=\"title class_\">Promise</span>&lt;<span class=\"title class_\">ResultData</span>&lt;T&gt;&gt; &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">service</span>.<span class=\"title function_\">get</span>(url, &#123; params &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  post&lt;T&gt;(<span class=\"attr\">url</span>: <span class=\"built_in\">string</span>, params?: <span class=\"built_in\">object</span>): <span class=\"title class_\">Promise</span>&lt;<span class=\"title class_\">ResultData</span>&lt;T&gt;&gt; &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">service</span>.<span class=\"title function_\">post</span>(url, params);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  put&lt;T&gt;(<span class=\"attr\">url</span>: <span class=\"built_in\">string</span>, params?: <span class=\"built_in\">object</span>): <span class=\"title class_\">Promise</span>&lt;<span class=\"title class_\">ResultData</span>&lt;T&gt;&gt; &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">service</span>.<span class=\"title function_\">put</span>(url, params);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">delete</span>&lt;T&gt;(<span class=\"attr\">url</span>: <span class=\"built_in\">string</span>, params?: <span class=\"built_in\">object</span>): <span class=\"title class_\">Promise</span>&lt;<span class=\"title class_\">ResultData</span>&lt;T&gt;&gt; &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">service</span>.<span class=\"title function_\">delete</span>(url, &#123; params &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"keyword\">new</span> <span class=\"title class_\">RequestHttp</span>(config);</span><br></pre></td></tr></table></figure>\n<ol start=\"5\">\n<li>api 文件夹下 <code>user.ts</code>  代码如下：</li>\n</ol>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> request <span class=\"keyword\">from</span> <span class=\"string\">&quot;@/utils/request&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title function_\">login</span> = (<span class=\"params\">data: <span class=\"built_in\">any</span></span>) =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> request.<span class=\"title function_\">post</span>(<span class=\"string\">&quot;/&quot;</span>, data);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>用这个暴露方式是因为大佬已经在 <code>request.ts</code>  中封装好了形式，这么用就可以</p>\n<ol start=\"6\">\n<li>sourecetree 的问题<br>\n xs，根本不会用好吧</li>\n</ol>\n<p>晚上回去前突然发现写的代码消失了，离谱！</p>\n<h1 id=\"day3\"><a class=\"markdownIt-Anchor\" href=\"#day3\">#</a> Day3</h1>\n<p>早上来用 vscode 自带的时间线挨个把代码恢复了，后来听同学说好像是提交合并分支的时候的问题，sourcetree 不会用，准确来说我对 git 的命令就不太会嗷。</p>\n<p>今天有点摆烂，没做什么活，和同学（大佬）分析了下提报系统后台管理页面的涉及，飞书真的强大啊，太帅了！<br>\n<img src=\"https://eucli-1314359160.cos.ap-beijing.myqcloud.com/test/whiteboard_exported_image.png\" alt=\"\"></p>\n<h1 id=\"day4\"><a class=\"markdownIt-Anchor\" href=\"#day4\">#</a> Day4</h1>\n<p>整体的草图基本上已经画完了，开工项目，拉了个 <code>feature/navbar</code>  的分支，是主页（home）的子组件（侧边栏），cv 了极橙大后台的侧边栏，不过那是用 vue2 写的，在试着用 vue3 改。</p>\n<h1 id=\"day5\"><a class=\"markdownIt-Anchor\" href=\"#day5\">#</a> Day5</h1>\n<p>今日摆烂</p>\n<h1 id=\"day6\"><a class=\"markdownIt-Anchor\" href=\"#day6\">#</a> Day6</h1>\n<p>今天算是搞懂了 ref () 和 reactive () 了，我真棒。</p>\n<ul>\n<li>reactive () 只适用于对象或数组，一般用于表单</li>\n<li>ref () 可以接受任何类型，但需要.value，用于插值语法中不用（会自动解包）</li>\n</ul>\n<p>晚上的时候同学把 <code>home</code>  分支推了上来，合并到了我这边。<br>\n开发过程中遇到了几个问题和收获，这里记录下：</p>\n<ol>\n<li>vue 报错： <router-view> can no longer be used directly inside <transition> or <keep-alive></li>\n</ol>\n<ul>\n<li>解决：之前是<transition>包裹 <router-view>，改成 <router-view>包裹<transition></li>\n</ul>\n<ol start=\"2\">\n<li><el-submenu>报错，因为 element plus 变了，改成<el-sub-menu></li>\n<li>vue3 里面 <code>this</code>  基本上不用了，而是 <code>ref()</code>  绑定响应式之后用 <code>.value</code> ，<br>\n如： <code>this.menu</code>  改成 <code>menu.value</code> , <code>this.isCollapse</code>  改成 <code>isCollapse.value</code></li>\n<li>vue3 没有 <code>computed</code>  生命周期，但有 <code>computed</code>  函数，不过使用前不要忘了引入 <code>import &#123; computed &#125; from &quot;vue&quot;;</code></li>\n<li>vue3 使用子组件不需要再注册，import 引入了就能用。</li>\n<li>路由配置必须要有一个 <code>/</code>  路径，一般对应 <code>home</code>  组件，如果有子组件写在 <code>children()&#123;&#125;</code>  中：</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">path</span>: <span class=\"string\">&quot;/&quot;</span>,</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">&quot;home&quot;</span>,</span><br><span class=\"line\">  <span class=\"attr\">meta</span>: &#123; <span class=\"attr\">auth</span>: <span class=\"string\">&quot;universal&quot;</span> &#125;,</span><br><span class=\"line\">  <span class=\"attr\">component</span>: <span class=\"function\">() =&gt;</span> <span class=\"keyword\">import</span>(<span class=\"string\">&quot;@/pages/home.vue&quot;</span>),</span><br><span class=\"line\">  <span class=\"comment\">//children: &#123;&#125;,</span></span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n<h1 id=\"day7\"><a class=\"markdownIt-Anchor\" href=\"#day7\">#</a> Day7</h1>\n<p>今日摆烂<br>\n哦，把橙果的 logo 换成学校的了，当时脑子抽了竟然直接用了橙果的 logo</p>\n<h1 id=\"day8\"><a class=\"markdownIt-Anchor\" href=\"#day8\">#</a> Day8</h1>\n<p>摆烂，但和老师们开了几个会，算是说明了需求，突然发现原来开发不仅仅是写好代码，弄好文档能和甲方解释清楚也是非常的重要</p>\n<h1 id=\"day9\"><a class=\"markdownIt-Anchor\" href=\"#day9\">#</a> Day9</h1>\n<p>接着摆</p>\n<h1 id=\"day10\"><a class=\"markdownIt-Anchor\" href=\"#day10\">#</a> Day10</h1>\n<p>emmm，太罪恶了。。</p>\n<h1 id=\"day11\"><a class=\"markdownIt-Anchor\" href=\"#day11\">#</a> Day11</h1>\n<p><code>navbar</code>  组件修改：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">onMounted</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"title function_\">getNavBar</span>().<span class=\"title function_\">then</span>(</span><br><span class=\"line\">    <span class=\"function\">(<span class=\"params\">res</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      menu = res.<span class=\"property\">data</span>;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"function\">(<span class=\"params\">err</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      $store.<span class=\"title function_\">commit</span>(<span class=\"string\">&quot;msgAlert&quot;</span>, &#123;</span><br><span class=\"line\">        <span class=\"attr\">message</span>: <span class=\"string\">&quot;服务器繁忙, 请求失败&quot;</span>,</span><br><span class=\"line\">        <span class=\"attr\">type</span>: <span class=\"string\">&quot;error&quot;</span>,</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(err.<span class=\"property\">message</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p><code>api/index.js</code>  修改：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> request <span class=\"keyword\">from</span> <span class=\"string\">&quot;@/utils/request&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">getNavBar</span> = (<span class=\"params\"></span>) =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> request.<span class=\"title function_\">get</span>(<span class=\"string\">&quot;/getNavBar&quot;</span>);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> &#123; getNavBar &#125;;</span><br></pre></td></tr></table></figure>\n<h1 id=\"day12\"><a class=\"markdownIt-Anchor\" href=\"#day12\">#</a> Day12</h1>\n<p>分到两个服务器，一个测试用一个上线了用，同学在配服务器，正在部署？<br>\n <code>navbar.vue</code>  的语言一改成 ts 之后好多地方都报错了：</p>\n<ol>\n<li>变量后面报错，因为没写类型，暂时都改成了 <code>any</code>  类型</li>\n<li><code>$store</code>  和 <code>$router</code>  报错 <code> $store is not defined</code> 。因为 vue2 和 vue3 写法不一样了。<br>\n解决：import 引入， <code>import router from '@/routes'</code>  和 <code>import mainStore from '@/store'</code> , 并将 <code>$store</code> ， <code>$router</code>  分别替换成 <code>store</code> ， <code>mainStore</code></li>\n<li><code>&lt;template&gt;</code>  标签中链式调用报错，提示 <code>类型“never”上不存在属性“key”</code> , 好像 <code>.</code>  前面要加 <code>?</code> ，即 <code>?.</code> ，但不能直接加，好像要引入 <code>interface</code></li>\n</ol>\n<h1 id=\"day13\"><a class=\"markdownIt-Anchor\" href=\"#day13\">#</a> Day13</h1>\n<ol>\n<li>导入时如果那个导入的文件时默认导出的（ <code>export default</code> ），就不用加大括号，如果不是默认导出，就要用一个大括号括起来。如： <code>import &#123; mainStore &#125; from &quot;@/store&quot;;</code></li>\n<li>store 仓库使用 pinia，即 vuex5，没有了 mutations, 这意味着可以直接更新状态，不用再注册 Commit。语法上更加贴近 Composition Api.</li>\n<li>因为用了 pinia，所以 commit 不能用了，navbar 中 <code>store.commit(&quot;msgAlert&quot;, &#123;&#125;</code>  需要换一种写法<br>\n解决：直接 <code>.</code> , 函数调用， <code>store.msgAlert(&quot;服务器繁忙, 请求失败&quot;,&quot;error&quot;)</code> , <code>()</code>  里面直接传参数值，不是写参数名。其中 store 文件夹下:</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">actions</span>: &#123;</span><br><span class=\"line\">  <span class=\"comment\">// 顶部居中消息弹窗</span></span><br><span class=\"line\">  <span class=\"title function_\">msgAlert</span>(<span class=\"params\">message: string, type: <span class=\"string\">&quot;info&quot;</span> | <span class=\"string\">&quot;success&quot;</span> | <span class=\"string\">&quot;warning&quot;</span> | <span class=\"string\">&quot;error&quot;</span></span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * message: 必须 string</span></span><br><span class=\"line\"><span class=\"comment\">     * type: info | success | warning | error</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"title class_\">ElMessage</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">message</span>: message,</span><br><span class=\"line\">      <span class=\"attr\">type</span>: type,</span><br><span class=\"line\">      <span class=\"attr\">center</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"attr\">duration</span>: <span class=\"number\">1500</span>, <span class=\"comment\">// 持续时长(毫秒)</span></span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n<h1 id=\"day14\"><a class=\"markdownIt-Anchor\" href=\"#day14\">#</a> Day14</h1>\n<h3 id=\"sourecetree\"><a class=\"markdownIt-Anchor\" href=\"#sourecetree\">#</a> soureceTree</h3>\n<p>git 有一个远端仓库，有一个本地仓库，【提交】和【获取】、【拉取】都是由本地仓库针对远端仓库进行的</p>\n<ul>\n<li>提交：<br>\n【提交】</li>\n</ul>\n<ol>\n<li>提交 - 暂存所有 - “feature/fix” - 提交</li>\n<li>推送</li>\n</ol>\n<ul>\n<li>拉:<br>\n【获取】：“没有” 变 “有”。（没有这个分支，所以要获取分支）</li>\n</ul>\n<ol>\n<li>获取</li>\n<li>远程 - 检出</li>\n</ol>\n<p>【拉取】：“有” 变 “新”。（有这个分支，但与远端仓库相比落后了版本，所以要更新）<br>\n拉取不成功是因为有不一样的代码</p>\n<h1 id=\"day15\"><a class=\"markdownIt-Anchor\" href=\"#day15\">#</a> Day15</h1>\n<p>周六摆烂 ing…</p>\n<h1 id=\"day16\"><a class=\"markdownIt-Anchor\" href=\"#day16\">#</a> Day16</h1>\n<p>摆烂，打八方旅人</p>\n<h1 id=\"day17\"><a class=\"markdownIt-Anchor\" href=\"#day17\">#</a> Day17</h1>\n<p>无事可干</p>\n<h1 id=\"day18\"><a class=\"markdownIt-Anchor\" href=\"#day18\">#</a> Day18</h1>\n<p>摆</p>\n<h1 id=\"day19\"><a class=\"markdownIt-Anchor\" href=\"#day19\">#</a> Day19</h1>\n<p>。</p>\n<h1 id=\"day20\"><a class=\"markdownIt-Anchor\" href=\"#day20\">#</a> Day20</h1>\n<p>这个项目好像已经不需要我了。。。</p>\n<h1 id=\"day21\"><a class=\"markdownIt-Anchor\" href=\"#day21\">#</a> Day21</h1>\n<p>无事</p>\n<h1 id=\"day22\"><a class=\"markdownIt-Anchor\" href=\"#day22\">#</a> Day22</h1>\n<p>周六摆，打弹丸论破</p>\n<h1 id=\"day23\"><a class=\"markdownIt-Anchor\" href=\"#day23\">#</a> Day23</h1>\n<p>周日摆</p>\n<h1 id=\"day24\"><a class=\"markdownIt-Anchor\" href=\"#day24\">#</a> Day24</h1>\n<p>在疯狂的学 ts……</p>\n<h1 id=\"day25\"><a class=\"markdownIt-Anchor\" href=\"#day25\">#</a> Day25</h1>\n<p>开始做项目的 <code>发起年度考核</code> 页面</p>\n<h1 id=\"day26\"><a class=\"markdownIt-Anchor\" href=\"#day26\">#</a> Day26</h1>\n<p>有个问题，用 <code>el-upload</code>  组件，想把自动上传换成手动上传，可是一取消自动 <code>:auto-upload=&quot;false&quot;</code> ，那么之前设置的那些有关文件类型、大小的验证全都不管用了，甚至 <code>console.log</code>  打印个东西都不行；而且手动上传调用了后也没有反应，头大。</p>\n<h1 id=\"day27\"><a class=\"markdownIt-Anchor\" href=\"#day27\">#</a> Day27</h1>\n<p>去超算参观，并不像印象里的国企那样保守，反而感觉很有活力，而且正在做好多东西， 老师还知道 chatgpt (doge</p>\n<h1 id=\"day28\"><a class=\"markdownIt-Anchor\" href=\"#day28\">#</a> Day28</h1>\n<p><code>el-upload</code>  手动提交出的问题还是没有解决，愁人</p>\n<h1 id=\"day29\"><a class=\"markdownIt-Anchor\" href=\"#day29\">#</a> Day29</h1>\n<p>四月八号了，不知不觉已经干了一个月了，还是学到了很多东西的。<br>\n今天，周六，想把博客从 hexo 迁移到 vuepress2 上，但是这玩意太难用了，明明是按文档来的为啥不显示？头疼中……</p>\n<h1 id=\"day30\"><a class=\"markdownIt-Anchor\" href=\"#day30\">#</a> Day30</h1>\n<p>放弃 vuepress 了，真难用啊，还是 hexo 舒服，顺便换了个主题，不过又出了问题，这玩意在本地能显示图片，一上传到 github 再打开就寄了，离谱</p>\n<h1 id=\"day31\"><a class=\"markdownIt-Anchor\" href=\"#day31\">#</a> Day31</h1>\n<ul>\n<li><code>el-upload</code>  手动提交不成功的问题终于解决了，把 <code>:file-list=&quot;fileList&quot;</code>  去掉就好了，用  <code>ref=&quot;uploadRef&quot;</code>  即可，两个都有就会不生效。</li>\n<li>另外 get 到了一个小知识，在定义 <code>const uploadRef = ref&lt;UploadInstance&gt;()</code>  时会报错说找不到 <code>UploadInstance</code> ，这时候把鼠标移上去点一下快捷修复就好了。</li>\n<li>Alt + 箭头上下可以整体移动选中的代码，丝糕诶！</li>\n</ul>\n<h1 id=\"day32\"><a class=\"markdownIt-Anchor\" href=\"#day32\">#</a> Day32</h1>\n<p>发起考核模块搞完了，明天开组会，后天找老师再开会。好诶！</p>\n<h1 id=\"day33\"><a class=\"markdownIt-Anchor\" href=\"#day33\">#</a> Day33</h1>\n<p>过</p>\n<h1 id=\"day34\"><a class=\"markdownIt-Anchor\" href=\"#day34\">#</a> Day34</h1>\n<p>写 style 的时候别忘了写 scope，不然会样式污染！</p>\n<h1 id=\"day35\"><a class=\"markdownIt-Anchor\" href=\"#day35\">#</a> Day35</h1>\n<p>第一阶段初步告终</p>\n<h1 id=\"4-月-18-日\"><a class=\"markdownIt-Anchor\" href=\"#4-月-18-日\">#</a> 4 月 18 日</h1>\n<p>搞了下把后端传过来的 excel 文件转成 json 格式，封装 axios 时是  <code>responseType: 'blob'</code> , 不能取消，取消会影响正常下载，刚开始只能解析出来乱码，并报错说是非法的 json，后来研究了一会儿才发现还要安装 xlsx 的依赖，总算解决了，贴一下代码：</p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">setup</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;ts&quot;</span>&gt;</span></span></span><br><span class=\"line\">import &#123; mainStore &#125; from &quot;@/store/index&quot;;</span><br><span class=\"line\">import &#123; read, utils &#125; from &quot;xlsx&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">import &#123; getAssessmentModel &#125; from &quot;@/api/user&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">let &#123; assessment &#125; = mainStore();</span><br><span class=\"line\"></span><br><span class=\"line\">const btn = () =&gt; &#123;</span><br><span class=\"line\">  getAssessmentModel().then((res: any) =&gt; &#123;</span><br><span class=\"line\"><span class=\"code\">    const reader: any = new FileReader();</span></span><br><span class=\"line\"><span class=\"code\">    reader.readAsArrayBuffer(res);</span></span><br><span class=\"line\"><span class=\"code\">    reader.onload = () =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"code\">      const data = new Uint8Array(reader.result);</span></span><br><span class=\"line\"><span class=\"code\">      const workbook = read(data, &#123; type: &quot;array&quot; &#125;);</span></span><br><span class=\"line\"><span class=\"code\">      const sheetName = workbook.SheetNames[0];</span></span><br><span class=\"line\"><span class=\"code\">      const sheet = workbook.Sheets[sheetName];</span></span><br><span class=\"line\"><span class=\"code\">      const json = utils.sheet_to_json(sheet);</span></span><br><span class=\"line\"><span class=\"code\">      assessment = json;</span></span><br><span class=\"line\"><span class=\"code\">      console.log(assessment);</span></span><br><span class=\"line\"><span class=\"code\">    &#125;;</span></span><br><span class=\"line\"><span class=\"code\">  &#125;);</span></span><br><span class=\"line\"><span class=\"code\">&#125;;</span></span><br><span class=\"line\"><span class=\"code\">&lt;/script&gt;</span></span><br><span class=\"line\"><span class=\"code\"></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span></span></span></span><br><span class=\"line\">  test页面 <span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">br</span> /&gt;</span></span></span></span></span><br><span class=\"line\">  <span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;btn&quot;</span>&gt;</span></span></span></span>点我发送请求<span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span></span><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">br</span> /&gt;</span></span></span></span></span><br><span class=\"line\">  &#123;&#123; assessment &#125;&#125;<span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">br</span> /&gt;</span></span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span></span></span></span><br></pre></td></tr></table></figure>\n<p>不过还有个问题，就是想要将数据存储到 pinia 仓库的话还要引入 <code>import &#123;storeToRefs&#125; from 'pinia'</code> ，把要存储的数据用 <code>storeToRefs()</code>  包裹起来，但是因为是用 ts 写的，这样做会报错，目前不知道该怎么解决</p>\n<h1 id=\"4-月-22-日\"><a class=\"markdownIt-Anchor\" href=\"#4-月-22-日\">#</a> 4 月 22 日</h1>\n<p>因为项目中有多处需要用到文件上传功能，所以将其被封装成了公共组件，并提供了许多配置，可根据不同需求修改配置。</p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;ts&quot;</span> <span class=\"attr\">setup</span>&gt;</span></span></span><br><span class=\"line\">import &#123; UploadFilled &#125; from &#x27;@element-plus/icons-vue&#x27;</span><br><span class=\"line\">import &#123; ref &#125; from &#x27;vue&#x27;;</span><br><span class=\"line\">import &#123; ElMessageBox, UploadInstance &#125; from &#x27;element-plus&#x27;</span><br><span class=\"line\">import &#123; getToken &#125; from &quot;@/utils/token&quot;</span><br><span class=\"line\">import type &#123; UploadProps, UploadUserFile &#125; from &#x27;element-plus&#x27;</span><br><span class=\"line\">import &#123; mainStore &#125; from &quot;@/store&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">const baseUrl = import.meta.env.VITE<span class=\"emphasis\">_BASE_</span>URL + &quot;/api&quot;;</span><br><span class=\"line\">const headers = &#123; Authorization: getToken() &#125;</span><br><span class=\"line\">let fileList = ref<span class=\"language-xml\">&lt;UploadUserFile[]&gt;</span>([])</span><br><span class=\"line\"></span><br><span class=\"line\">const props = defineProps([&quot;limitation&quot;, &quot;uploadFilesUrl&quot;, &quot;type&quot;])</span><br><span class=\"line\">const uploadFilesUrl = props.uploadFilesUrl;</span><br><span class=\"line\">const limitation = props.limitation;</span><br><span class=\"line\">const type = props.type;</span><br><span class=\"line\"></span><br><span class=\"line\">let flag = &quot;remove&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">const beforeRemove: UploadProps[&#x27;beforeRemove&#x27;] = async (uploadFile, uploadFiles) =&gt; &#123;</span><br><span class=\"line\">  if (flag === &quot;remove&quot;) &#123;</span><br><span class=\"line\"><span class=\"code\">    return ElMessageBox.confirm(</span></span><br><span class=\"line\"><span class=\"code\">      `是否删除此文件 $&#123;uploadFile.name&#125; ?`, &#123;</span></span><br><span class=\"line\"><span class=\"code\">      confirmButtonText: &quot;确定&quot;,</span></span><br><span class=\"line\"><span class=\"code\">      cancelButtonText: &quot;取消&quot;</span></span><br><span class=\"line\"><span class=\"code\">    &#125;).then(() =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"code\">      mainStore().msgAlert(&quot;删除成功&quot;, &quot;success&quot;);</span></span><br><span class=\"line\"><span class=\"code\">      return true;</span></span><br><span class=\"line\"><span class=\"code\">    &#125;).catch(() =&gt; false);</span></span><br><span class=\"line\"><span class=\"code\">  &#125; else &#123;</span></span><br><span class=\"line\"><span class=\"code\">    return true;</span></span><br><span class=\"line\"><span class=\"code\">  &#125;</span></span><br><span class=\"line\"><span class=\"code\">&#125;</span></span><br><span class=\"line\"><span class=\"code\"></span></span><br><span class=\"line\">const handlePreview: UploadProps[&#x27;onPreview&#x27;] = (uploadFile) =&gt; &#123;</span><br><span class=\"line\">  console.log(uploadFile)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">const onSuccess: UploadProps[&#x27;onSuccess&#x27;] = (res, uploadFile, uploadFiles) =&gt; &#123;</span><br><span class=\"line\">  fileList.value = [];</span><br><span class=\"line\">  mainStore().msgAlert(&quot;上传成功&quot;, &quot;success&quot;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">const onError: UploadProps[&#x27;onError&#x27;] = (res, uploadFile, uploadFiles) =&gt; &#123;</span><br><span class=\"line\">  mainStore().msgAlert(&quot;上传失败&quot;, &quot;error&quot;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">const beforeUpload: UploadProps[&#x27;beforeUpload&#x27;] = (rawFile) =&gt; &#123;</span><br><span class=\"line\">  if (type.includes(rawFile.type)) return true;</span><br><span class=\"line\">  else &#123;</span><br><span class=\"line\"><span class=\"code\">    mainStore().msgAlert(&quot;请上传指定类型的文件&quot;, &quot;error&quot;);</span></span><br><span class=\"line\"><span class=\"code\">    flag = &quot;&quot;;</span></span><br><span class=\"line\"><span class=\"code\">    return false;</span></span><br><span class=\"line\"><span class=\"code\">  &#125;</span></span><br><span class=\"line\"><span class=\"code\">&#125;</span></span><br><span class=\"line\"><span class=\"code\">// 手动上传</span></span><br><span class=\"line\"><span class=\"code\">const uploadRef = ref&lt;UploadInstance&gt;()</span></span><br><span class=\"line\"><span class=\"code\">const submitUpload = () =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"code\">  uploadRef.value!.submit()</span></span><br><span class=\"line\"><span class=\"code\">&#125;</span></span><br><span class=\"line\"><span class=\"code\"></span></span><br><span class=\"line\">// 暴露方法</span><br><span class=\"line\">defineExpose(&#123;</span><br><span class=\"line\">  submitUpload</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span></span><br><span class=\"line\">  <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"code\">    &lt;el-upload :file-list=&quot;fileList&quot; ref=&quot;uploadRef&quot; class=&quot;upload-demo&quot; name=&quot;file&quot; method=&quot;post&quot; drag</span></span><br><span class=\"line\"><span class=\"code\">      :action=&quot;baseUrl + uploadFilesUrl&quot; show-file-list :headers=&quot;headers&quot; :auto-upload=&quot;false&quot;</span></span><br><span class=\"line\"><span class=\"code\">      :on-preview=&quot;handlePreview&quot; :before-remove=&quot;beforeRemove&quot; :on-success=&quot;onSuccess&quot; :on-error=&quot;onError&quot;</span></span><br><span class=\"line\"><span class=\"code\">      :before-upload=&quot;beforeUpload&quot;&gt;</span></span><br><span class=\"line\"><span class=\"code\">      &lt;el-icon class=&quot;el-icon--upload&quot;&gt;&lt;upload-filled /&gt;&lt;/el-icon&gt;</span></span><br><span class=\"line\"><span class=\"code\">      &lt;div class=&quot;el-upload__text&quot;&gt;</span></span><br><span class=\"line\"><span class=\"code\">        拖动文件到此处或 &lt;em&gt;点击我上传&lt;/em&gt;</span></span><br><span class=\"line\"><span class=\"code\">      &lt;/div&gt;</span></span><br><span class=\"line\"><span class=\"code\">      &lt;template #tip&gt;</span></span><br><span class=\"line\"><span class=\"code\">        &lt;div class=&quot;el-upload__tip&quot;&gt;</span></span><br><span class=\"line\"><span class=\"code\">          &#123;&#123; props.limitation ? props.limitation : &quot;&quot; &#125;&#125;</span></span><br><span class=\"line\"><span class=\"code\">        &lt;/div&gt;</span></span><br><span class=\"line\"><span class=\"code\">      &lt;/template&gt;</span></span><br><span class=\"line\"><span class=\"code\">    &lt;/el-upload&gt;</span></span><br><span class=\"line\"><span class=\"code\">  &lt;/div&gt;</span></span><br><span class=\"line\"><span class=\"code\">&lt;/template&gt;</span></span><br><span class=\"line\"><span class=\"code\"></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">style</span> <span class=\"attr\">scoped</span>&gt;</span></span><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n<h1 id=\"5-月-9-日\"><a class=\"markdownIt-Anchor\" href=\"#5-月-9-日\">#</a> 5 月 9 日</h1>\n<p>element 的属性可以前面加 <code>:</code>  绑定函数调用，而自带的方法前面要用 <code>@</code></p>\n<h1 id=\"5月16日\"><a class=\"markdownIt-Anchor\" href=\"#5月16日\">#</a> 5 月 16 日</h1>\n<p>前端部分好像大体搞完了……</p>\n<h1 id=\"6月27日\"><a class=\"markdownIt-Anchor\" href=\"#6月27日\">#</a> 6 月 27 日</h1>\n<p>历史考核查看页面完成。</p>\n<ul>\n<li>【本地代码上传远程仓库】命令<br>\n git status<br>\ngit add .<br>\ngit commit -m “名称”<br>\ngit push</li>\n</ul>\n",
            "tags": [
                "TypeScript",
                "Element Plus",
                "vue3",
                "pinia",
                "vite"
            ]
        }
    ]
}