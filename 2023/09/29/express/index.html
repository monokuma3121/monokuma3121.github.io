<!-- build time:Tue Nov 07 2023 12:06:58 GMT+0800 (é¦™æ¸¯æ ‡å‡†æ—¶é—´) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="Eucliã®å°çª" href="https://eucli.top/rss.xml"><link rel="alternate" type="application/atom+xml" title="Eucliã®å°çª" href="https://eucli.top/atom.xml"><link rel="alternate" type="application/json" title="Eucliã®å°çª" href="https://eucli.top/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="express"><link rel="canonical" href="https://eucli.top/2023/09/29/express/"><title>express - åç«¯ | Eucliã®å°çª = Eucli ã®å°çª</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">express</h1><div class="meta"><span class="item" title="åˆ›å»ºæ—¶é—´ï¼š2023-09-29 21:45:48"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">å‘è¡¨äº</span> <time itemprop="dateCreated datePublished" datetime="2023-09-29T21:45:48+08:00">2023-09-29</time> </span><span class="item" title="æœ¬æ–‡å­—æ•°"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">æœ¬æ–‡å­—æ•°</span> <span>8.4k</span> <span class="text">å­—</span> </span><span class="item" title="é˜…è¯»æ—¶é•¿"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">é˜…è¯»æ—¶é•¿</span> <span>8 åˆ†é’Ÿ</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="åˆ‡æ¢å¯¼èˆªæ "><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Eucliã®å°çª</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gicljitigmj20zk0m87fp.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclhpw3lwj20zk0m8gvw.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclx6phq6j20zk0m8e36.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclhfehz7j20zk0m8u0x.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclhtuo6nj20zk0m8ttm.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclh0m9pdj20zk0m8hdt.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">é¦–é¡µ</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/%E5%90%8E%E7%AB%AF/" itemprop="item" rel="index" title="åˆ†ç±»äº åç«¯"><span itemprop="name">åç«¯</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://eucli.top/2023/09/29/express/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content=""><meta itemprop="description" content=", "></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Eucli ã®å°çª"></span><div class="body md" itemprop="articleBody"><h2 id="express-ä»‹ç»"><a class="anchor" href="#express-ä»‹ç»">#</a> express ä»‹ç»</h2><blockquote><p>express æ˜¯ä¸€ä¸ªåŸºäº Node.js å¹³å°çš„æç®€ã€çµæ´»çš„ WEB åº”ç”¨å¼€å‘æ¡†æ¶ï¼Œå®˜æ–¹ç½‘å€ï¼š <span class="exturl" data-url="aHR0cHM6Ly93d3cuZXhwcmVzc2pzLmNvbS5jbi8=">https://www.expressjs.com.cn/</span></p></blockquote><p>ç®€å•æ¥è¯´ï¼Œexpress æ˜¯ä¸€ä¸ªå°è£…å¥½çš„å·¥å…·åŒ…ï¼Œå°è£…äº†å¾ˆå¤šåŠŸèƒ½ï¼Œä¾¿äºæˆ‘ä»¬å¼€å‘ WEB åº”ç”¨ (HTTP æœåŠ¡)</p><h2 id="express-ä½¿ç”¨"><a class="anchor" href="#express-ä½¿ç”¨">#</a> express ä½¿ç”¨</h2><h3 id="express-ä¸‹è½½"><a class="anchor" href="#express-ä¸‹è½½">#</a> express ä¸‹è½½</h3><p>express æœ¬èº«æ˜¯ä¸€ä¸ª npm åŒ…ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡ npm å®‰è£…</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">npm</span> init</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">npm</span> i express</pre></td></tr></table></figure><h3 id="express-åˆä½“éªŒ"><a class="anchor" href="#express-åˆä½“éªŒ">#</a> express åˆä½“éªŒ</h3><p>å¤§å®¶å¯ä»¥æŒ‰ç…§è¿™ä¸ªæ­¥éª¤è¿›è¡Œæ“ä½œï¼š</p><ol><li>åˆ›å»º JS æ–‡ä»¶ï¼Œé”®å…¥å¦‚ä¸‹ä»£ç </li></ol><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">//1. å¯¼å…¥ express</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"express"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">//2. åˆ›å»ºåº”ç”¨å¯¹è±¡</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">//3. åˆ›å»ºè·¯ç”±è§„åˆ™</span></pre></td></tr><tr><td data-num="6"></td><td><pre>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/home"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>  res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">"hello express server"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">//4. ç›‘å¬ç«¯å£ å¯åŠ¨æœåŠ¡</span></pre></td></tr><tr><td data-num="10"></td><td><pre>app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"æœåŠ¡å·²ç»å¯åŠ¨, ç«¯å£ç›‘å¬ä¸º 3000..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><ol start="2"><li><p>å‘½ä»¤è¡Œä¸‹æ‰§è¡Œè¯¥è„šæœ¬</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token number">1</span>. <span class="token function">node</span> <span class="token operator">&lt;</span>æ–‡ä»¶å<span class="token operator">></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment"># æˆ–è€…</span></pre></td></tr><tr><td data-num="3"></td><td><pre>nodemon <span class="token operator">&lt;</span>æ–‡ä»¶å<span class="token operator">></span></pre></td></tr></table></figure></li><li><p>ç„¶ååœ¨æµè§ˆå™¨å°±å¯ä»¥è®¿é—® <span class="exturl" data-url="aHR0cDovLzEyNy4wLjAuMTozMDAwL2hvbWU=">http://127.0.0.1:3000/home</span> ğŸ‘Œ</p></li></ol><h2 id="express-è·¯ç”±"><a class="anchor" href="#express-è·¯ç”±">#</a> express è·¯ç”±</h2><h3 id="ä»€ä¹ˆæ˜¯è·¯ç”±"><a class="anchor" href="#ä»€ä¹ˆæ˜¯è·¯ç”±">#</a> ä»€ä¹ˆæ˜¯è·¯ç”±</h3><blockquote><p>å®˜æ–¹å®šä¹‰ï¼š &lt;span style=&quot;color:red&quot;&gt; è·¯ç”±ç¡®å®šäº†åº”ç”¨ç¨‹åºå¦‚ä½•å“åº”å®¢æˆ·ç«¯å¯¹ <code>ç‰¹å®šç«¯ç‚¹</code> çš„è¯·æ±‚ &lt;/span&gt;</p></blockquote><h3 id="è·¯ç”±çš„ä½¿ç”¨"><a class="anchor" href="#è·¯ç”±çš„ä½¿ç”¨">#</a> è·¯ç”±çš„ä½¿ç”¨</h3><p>ä¸€ä¸ªè·¯ç”±çš„ç»„æˆæœ‰ <code>è¯·æ±‚æ–¹æ³•</code> ï¼Œ <code>è·¯å¾„</code> å’Œ <code>å›è°ƒå‡½æ•°</code> ç»„æˆ</p><p>express ä¸­æä¾›äº†ä¸€ç³»åˆ—æ–¹æ³•ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„ä½¿ç”¨è·¯ç”±ï¼Œä½¿ç”¨æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre>app<span class="token punctuation">.</span><span class="token operator">&lt;</span>method<span class="token operator">></span><span class="token punctuation">(</span>pathï¼Œcallback<span class="token punctuation">)</span></pre></td></tr></table></figure><p>ä»£ç ç¤ºä¾‹ï¼š</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// å¯¼å…¥ express</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"express"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// åˆ›å»ºåº”ç”¨å¯¹è±¡</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">// åˆ›å»º get è·¯ç”±</span></pre></td></tr><tr><td data-num="8"></td><td><pre>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/home"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">"ç½‘ç«™é¦–é¡µ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token comment">// é¦–é¡µè·¯ç”±</span></pre></td></tr><tr><td data-num="13"></td><td><pre>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">"æˆ‘æ‰æ˜¯çœŸæ­£çš„é¦–é¡µ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token comment">// åˆ›å»º post è·¯ç”±</span></pre></td></tr><tr><td data-num="18"></td><td><pre>app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">"/login"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">"ç™»å½•æˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token comment">// åŒ¹é…æ‰€æœ‰çš„è¯·æ±‚æ–¹æ³•</span></pre></td></tr><tr><td data-num="23"></td><td><pre>app<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token string">"/search"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">"1 ç§’é’Ÿä¸ºæ‚¨æ‰¾åˆ°ç›¸å…³ç»“æœçº¦ 100,000,000 ä¸ª"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token comment">// è‡ªå®šä¹‰ 404 è·¯ç”±</span></pre></td></tr><tr><td data-num="28"></td><td><pre>app<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">"&lt;h1>404 Not Found&lt;/h1>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token comment">// ç›‘å¬ç«¯å£ å¯åŠ¨æœåŠ¡</span></pre></td></tr><tr><td data-num="33"></td><td><pre>app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"æœåŠ¡å·²ç»å¯åŠ¨, ç«¯å£ç›‘å¬ä¸º 3000"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h3 id="è·å–è¯·æ±‚å‚æ•°"><a class="anchor" href="#è·å–è¯·æ±‚å‚æ•°">#</a> è·å–è¯·æ±‚å‚æ•°</h3><p>express æ¡†æ¶å°è£…äº†ä¸€äº› API æ¥æ–¹ä¾¿è·å–è¯·æ±‚æŠ¥æ–‡ä¸­çš„æ•°æ®ï¼Œå¹¶ä¸”å…¼å®¹åŸç”Ÿ HTTP æ¨¡å—çš„è·å–æ–¹å¼</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// å¯¼å…¥ express</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"express"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// åˆ›å»ºåº”ç”¨å¯¹è±¡</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">// è·å–è¯·æ±‚çš„è·¯ç”±è§„åˆ™</span></pre></td></tr><tr><td data-num="8"></td><td><pre>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/request"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>  <span class="token comment">// 1. è·å–æŠ¥æ–‡çš„æ–¹å¼ä¸åŸç”Ÿ HTTP è·å–æ–¹å¼æ˜¯å…¼å®¹çš„</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>method<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>httpVersion<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>headers<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre>  <span class="token comment">// 2. express ç‹¬æœ‰çš„è·å–æŠ¥æ–‡çš„æ–¹å¼</span></pre></td></tr><tr><td data-num="16"></td><td><pre>  <span class="token comment">// è·å–è·¯å¾„</span></pre></td></tr><tr><td data-num="17"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>  <span class="token comment">// è·å–æŸ¥è¯¢å­—ç¬¦ä¸²</span></pre></td></tr><tr><td data-num="19"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ã€ç›¸å¯¹é‡è¦ã€å¯¹è±¡å½¢å¼è¿”å›æ‰€æœ‰çš„æŸ¥è¯¢å­—ç¬¦ä¸²</span></pre></td></tr><tr><td data-num="20"></td><td><pre>  <span class="token comment">// è·å– ip</span></pre></td></tr><tr><td data-num="21"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>ip<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>  <span class="token comment">// è·å–æŒ‡å®šçš„è¯·æ±‚å¤´</span></pre></td></tr><tr><td data-num="23"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"host"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">"è¯·æ±‚æŠ¥æ–‡çš„è·å–"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token comment">// å¯åŠ¨æœåŠ¡</span></pre></td></tr><tr><td data-num="27"></td><td><pre>app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"å¯åŠ¨æˆåŠŸ...."</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h3 id="è·å–è·¯ç”±å‚æ•°"><a class="anchor" href="#è·å–è·¯ç”±å‚æ•°">#</a> è·å–è·¯ç”±å‚æ•°</h3><p>è·¯ç”±å‚æ•°æŒ‡çš„æ˜¯ &lt;span style=&quot;color:red&quot;&gt;URL è·¯å¾„ä¸­çš„å‚æ•°ï¼ˆæ•°æ®ï¼‰&lt;/span&gt;<br>å‰ç«¯æ ¹æ®è·¯ç”±å‚æ•°ä¸åŒæ˜¾ç¤ºä¸åŒçš„å•†å“</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/:id.html"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token comment">//`:id` ä¸ºå ä½ç¬¦ï¼Œèµ·ä»€ä¹ˆåå­—éƒ½å¯ä»¥</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">"å•†å“è¯¦æƒ…, å•†å“ id ä¸º"</span> <span class="token operator">+</span> req<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä¸å ä½ç¬¦åç§°ä¿æŒä¸€è‡´</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h2 id="express-å“åº”è®¾ç½®"><a class="anchor" href="#express-å“åº”è®¾ç½®">#</a> express å“åº”è®¾ç½®</h2><p>express æ¡†æ¶å°è£…äº†ä¸€äº› API æ¥æ–¹ä¾¿ç»™å®¢æˆ·ç«¯å“åº”æ•°æ®ï¼Œå¹¶ä¸”å…¼å®¹åŸç”Ÿ HTTP æ¨¡å—çš„è·å–æ–¹å¼</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// è·å–è¯·æ±‚çš„è·¯ç”±è§„åˆ™</span></pre></td></tr><tr><td data-num="2"></td><td><pre>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/response"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token comment">//1. express ä¸­è®¾ç½®å“åº”çš„æ–¹å¼å…¼å®¹ HTTP æ¨¡å—çš„æ–¹å¼</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  res<span class="token punctuation">.</span>statusCode <span class="token operator">=</span> <span class="token number">404</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  res<span class="token punctuation">.</span>statusMessage <span class="token operator">=</span> <span class="token string">"xxx"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"abc"</span><span class="token punctuation">,</span> <span class="token string">"xyz"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>  res<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"å“åº”ä½“"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">"xxx"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>  <span class="token comment">//2. express çš„å“åº”æ–¹æ³•</span></pre></td></tr><tr><td data-num="11"></td><td><pre>  res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è®¾ç½®å“åº”çŠ¶æ€ç </span></pre></td></tr><tr><td data-num="12"></td><td><pre>  res<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"xxx"</span><span class="token punctuation">,</span> <span class="token string">"yyy"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è®¾ç½®å“åº”å¤´</span></pre></td></tr><tr><td data-num="13"></td><td><pre>  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">"ä¸­æ–‡å“åº”ä¸ä¹±ç "</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è®¾ç½®å“åº”ä½“</span></pre></td></tr><tr><td data-num="14"></td><td><pre>  <span class="token comment">// è¿è´¯æ“ä½œ</span></pre></td></tr><tr><td data-num="15"></td><td><pre>  res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"xxx"</span><span class="token punctuation">,</span> <span class="token string">"yyy"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">"ä½ å¥½æœ‹å‹"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre>  <span class="token comment">//3. å…¶ä»–å“åº”</span></pre></td></tr><tr><td data-num="18"></td><td><pre>  res<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string">"http://atguigu.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é‡å®šå‘</span></pre></td></tr><tr><td data-num="19"></td><td><pre>  res<span class="token punctuation">.</span><span class="token function">download</span><span class="token punctuation">(</span><span class="token string">"./package.json"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä¸‹è½½å“åº”</span></pre></td></tr><tr><td data-num="20"></td><td><pre>  res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å“åº” JSON</span></pre></td></tr><tr><td data-num="21"></td><td><pre>  res<span class="token punctuation">.</span><span class="token function">sendFile</span><span class="token punctuation">(</span>__dirname <span class="token operator">+</span> <span class="token string">"/home.html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å“åº”æ–‡ä»¶å†…å®¹</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h2 id="express-ä¸­é—´ä»¶"><a class="anchor" href="#express-ä¸­é—´ä»¶">#</a> express ä¸­é—´ä»¶</h2><h3 id="ä»€ä¹ˆæ˜¯ä¸­é—´ä»¶"><a class="anchor" href="#ä»€ä¹ˆæ˜¯ä¸­é—´ä»¶">#</a> ä»€ä¹ˆæ˜¯ä¸­é—´ä»¶</h3><p><code>ä¸­é—´ä»¶ï¼ˆMiddlewareï¼‰æœ¬è´¨æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°</code></p><p><code>ä¸­é—´ä»¶å‡½æ•°</code> å¯ä»¥åƒè·¯ç”±å›è°ƒä¸€æ ·è®¿é—® <code>è¯·æ±‚å¯¹è±¡ï¼ˆrequestï¼‰</code> ï¼Œ <code>å“åº”å¯¹è±¡ï¼ˆresponseï¼‰</code></p><h3 id="ä¸­é—´ä»¶çš„ä½œç”¨"><a class="anchor" href="#ä¸­é—´ä»¶çš„ä½œç”¨">#</a> ä¸­é—´ä»¶çš„ä½œç”¨</h3><p><code>ä¸­é—´ä»¶çš„ä½œç”¨</code> å°±æ˜¯ <code>ä½¿ç”¨å‡½æ•°å°è£…å…¬å…±æ“ä½œï¼Œç®€åŒ–ä»£ç </code></p><h3 id="ä¸­é—´ä»¶çš„ç±»å‹"><a class="anchor" href="#ä¸­é—´ä»¶çš„ç±»å‹">#</a> ä¸­é—´ä»¶çš„ç±»å‹</h3><p>å…¨å±€ä¸­é—´ä»¶<br>è·¯ç”±ä¸­é—´ä»¶</p><h4 id="å®šä¹‰å…¨å±€ä¸­é—´ä»¶"><a class="anchor" href="#å®šä¹‰å…¨å±€ä¸­é—´ä»¶">#</a> å®šä¹‰å…¨å±€ä¸­é—´ä»¶</h4><p><code>æ¯ä¸€ä¸ªè¯·æ±‚</code> åˆ°è¾¾æœåŠ¡ç«¯ä¹‹å <code>éƒ½ä¼šæ‰§è¡Œå…¨å±€ä¸­é—´ä»¶å‡½æ•°</code></p><p>å£°æ˜ä¸­é—´ä»¶å‡½æ•°</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">let</span> <span class="token function-variable function">recordMiddleware</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token comment">// å®ç°åŠŸèƒ½ä»£ç </span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token comment">//.....</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token comment">// æ‰§è¡Œ next å‡½æ•° (å½“å¦‚æœå¸Œæœ›æ‰§è¡Œå®Œä¸­é—´ä»¶å‡½æ•°ä¹‹åï¼Œä»ç„¶ç»§ç»­æ‰§è¡Œè·¯ç”±ä¸­çš„å›è°ƒå‡½æ•°ï¼Œå¿…é¡»è°ƒç”¨ next)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p><img data-src="https://eucli-1314359160.cos.ap-beijing.myqcloud.com/test/34b8a3daffba5b366afb6495e4808b12de732403.jpg" alt=""></p><p>åº”ç”¨ä¸­é—´ä»¶</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>recordMiddleware<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>å£°æ˜æ—¶å¯ä»¥ç›´æ¥å°†åŒ¿åå‡½æ•°ä¼ é€’ç»™ <code>use</code></p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"å®šä¹‰ç¬¬ä¸€ä¸ªä¸­é—´ä»¶"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h4 id="å¤šä¸ªå…¨å±€ä¸­é—´ä»¶"><a class="anchor" href="#å¤šä¸ªå…¨å±€ä¸­é—´ä»¶">#</a> å¤šä¸ªå…¨å±€ä¸­é—´ä»¶</h4><p>express å…è®¸ä½¿ç”¨ app.use () å®šä¹‰å¤šä¸ªå…¨å±€ä¸­é—´ä»¶</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"å®šä¹‰ç¬¬ä¸€ä¸ªä¸­é—´ä»¶"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"å®šä¹‰ç¬¬äºŒä¸ªä¸­é—´ä»¶"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h4 id="å®šä¹‰è·¯ç”±ä¸­é—´ä»¶"><a class="anchor" href="#å®šä¹‰è·¯ç”±ä¸­é—´ä»¶">#</a> å®šä¹‰è·¯ç”±ä¸­é—´ä»¶</h4><p>å¦‚æœ &lt;span style=&quot;color:red&quot;&gt; åªéœ€è¦å¯¹æŸä¸€äº›è·¯ç”±è¿›è¡ŒåŠŸèƒ½å°è£… &lt;/span&gt;ï¼Œåˆ™å°±éœ€è¦è·¯ç”±ä¸­é—´ä»¶</p><p>è°ƒç”¨æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/è·¯å¾„"</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">ä¸­é—´ä»¶å‡½æ•°</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/è·¯å¾„"</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">ä¸­é—´ä»¶å‡½æ•°1</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">ä¸­é—´ä»¶å‡½æ•°2</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h3 id="é™æ€èµ„æºä¸­é—´ä»¶"><a class="anchor" href="#é™æ€èµ„æºä¸­é—´ä»¶">#</a> é™æ€èµ„æºä¸­é—´ä»¶</h3><p>express å†…ç½®å¤„ç†é™æ€èµ„æºçš„ä¸­é—´ä»¶</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// å¼•å…¥ express æ¡†æ¶</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"express"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// åˆ›å»ºæœåŠ¡å¯¹è±¡</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">// é™æ€èµ„æºä¸­é—´ä»¶çš„è®¾ç½®ï¼Œå°†å½“å‰æ–‡ä»¶å¤¹ä¸‹çš„ public ç›®å½•ä½œä¸ºç½‘ç«™çš„æ ¹ç›®å½•</span></pre></td></tr><tr><td data-num="6"></td><td><pre>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">"./public"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å½“ç„¶è¿™ä¸ªç›®å½•ä¸­éƒ½æ˜¯ä¸€äº›é™æ€èµ„æº</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">// å¦‚æœè®¿é—®çš„å†…å®¹ç»å¸¸å˜åŒ–ï¼Œè¿˜æ˜¯éœ€è¦è®¾ç½®è·¯ç”±</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">// ä½†æ˜¯ï¼Œåœ¨è¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœ public ç›®å½•ä¸‹æœ‰ index.html æ–‡ä»¶ï¼Œå•ç‹¬ä¹Ÿæœ‰ index.html çš„è·¯ç”±</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">// åˆ™è°ä¹¦å†™åœ¨å‰ï¼Œä¼˜å…ˆæ‰§è¡Œè°</span></pre></td></tr><tr><td data-num="10"></td><td><pre>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/index.html"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>  respsonse<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">"é¦–é¡µ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment">// ç›‘å¬ç«¯å£</span></pre></td></tr><tr><td data-num="14"></td><td><pre>app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"3000 ç«¯å£å¯åŠ¨...."</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><blockquote><p>æ³¨æ„äº‹é¡¹:</p><ol><li>index.html æ–‡ä»¶ä¸ºé»˜è®¤æ‰“å¼€çš„èµ„æº</li><li>å¦‚æœé™æ€èµ„æºä¸è·¯ç”±è§„åˆ™åŒæ—¶åŒ¹é…ï¼Œè°å…ˆåŒ¹é…è°å°±å“åº”</li><li>è·¯ç”±å“åº”åŠ¨æ€èµ„æºï¼Œé™æ€èµ„æºä¸­é—´ä»¶å“åº”é™æ€èµ„æº</li></ol></blockquote><h3 id="è·å–è¯·æ±‚ä½“æ•°æ®-body-parser"><a class="anchor" href="#è·å–è¯·æ±‚ä½“æ•°æ®-body-parser">#</a> è·å–è¯·æ±‚ä½“æ•°æ® body-parser</h3><p>express å¯ä»¥ä½¿ç”¨ <code>body-parser</code> åŒ…å¤„ç†è¯·æ±‚ä½“</p><p>ç¬¬ä¸€æ­¥ï¼šå®‰è£…</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">npm</span> i body-parser</pre></td></tr></table></figure><p>ç¬¬äºŒæ­¥ï¼šå¯¼å…¥ body-parser åŒ…</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">const</span> bodyParser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"body-parser"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>ç¬¬ä¸‰æ­¥ï¼šè·å–ä¸­é—´ä»¶å‡½æ•°</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// å¤„ç† querystring æ ¼å¼çš„è¯·æ±‚ä½“</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">let</span> urlParser <span class="token operator">=</span> bodyParser<span class="token punctuation">.</span><span class="token function">urlencoded</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token literal-property property">extended</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// å¤„ç† JSON æ ¼å¼çš„è¯·æ±‚ä½“</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">let</span> jsonParser <span class="token operator">=</span> bodyParser<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>ç¬¬å››æ­¥ï¼šè®¾ç½®è·¯ç”±ä¸­é—´ä»¶ï¼Œç„¶åä½¿ç”¨ <code>request.body</code> æ¥è·å–è¯·æ±‚ä½“æ•°æ®</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre>app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">"/login"</span><span class="token punctuation">,</span> urlParser<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token comment">// è·å–è¯·æ±‚ä½“æ•°æ®</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token comment">//console.log(request.body);</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token comment">// ç”¨æˆ·å</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>body<span class="token punctuation">.</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  <span class="token comment">// å¯†ç </span></pre></td></tr><tr><td data-num="7"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>body<span class="token punctuation">.</span>userpass<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  response<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">"è·å–è¯·æ±‚ä½“æ•°æ®"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>è·å–åˆ°çš„è¯·æ±‚ä½“æ•°æ®ï¼š</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>Object<span class="token operator">:</span> <span class="token keyword">null</span> prototype<span class="token punctuation">]</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">'admin'</span><span class="token punctuation">,</span> <span class="token literal-property property">userpass</span><span class="token operator">:</span> <span class="token string">'123456'</span> <span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><strong>æ³¨æ„:</strong> ç°åœ¨ä½ å·²ç»å¯ä»¥æŠ›å¼ƒ body-parser æ¨¡å—ï¼Œå› ä¸º Express è‡ªä» 4.16.0 ç‰ˆæœ¬å¼€å§‹ï¼Œå†…ç½®äº† body è§£æ</p><p><strong>ä½¿ç”¨æ–¹æ³•:</strong></p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"express"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// è§£æ JSON æ ¼å¼çš„è¯·æ±‚ä½“çš„ä¸­é—´ä»¶</span></pre></td></tr><tr><td data-num="5"></td><td><pre>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">// è§£æ querystring æ ¼å¼è¯·æ±‚ä½“çš„ä¸­é—´ä»¶</span></pre></td></tr><tr><td data-num="7"></td><td><pre>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">urlencoded</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">extended</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h2 id="é˜²ç›—é“¾"><a class="anchor" href="#é˜²ç›—é“¾">#</a> é˜²ç›—é“¾</h2><p>åªèƒ½ç”¨è§„å®šçš„åŸŸåè¯·æ±‚èµ„æºï¼Œä¸ç„¶ä¼šå“åº” 404</p><h3 id="é˜²ç›—é“¾å®è·µ"><a class="anchor" href="#é˜²ç›—é“¾å®è·µ">#</a> é˜²ç›—é“¾å®è·µ</h3><p>åªå…è®¸ 127.0.0.1 çš„åŸŸåè·å–å›¾ç‰‡èµ„æº</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// å¼•å…¥ express æ¡†æ¶</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"express"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// åˆ›å»ºæœåŠ¡å¯¹è±¡</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">// å£°æ˜ä¸­é—´ä»¶</span></pre></td></tr><tr><td data-num="6"></td><td><pre>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>  <span class="token comment">// æ£€æµ‹è¯·æ±‚å¤´ä¸­çš„ refer æ˜¯å¦ä¸º 127.0.1.1</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  <span class="token keyword">if</span> <span class="token punctuation">(</span>refer<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token comment">// è·å– refer</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token keyword">let</span> refer <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"refer"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token comment">// å®ä¾‹åŒ–</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token comment">// è·å– hostname</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token keyword">let</span> hostname <span class="token operator">=</span> url<span class="token punctuation">.</span>hostname<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token comment">// åˆ¤æ–­</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token keyword">if</span> <span class="token punctuation">(</span>hostname <span class="token operator">!==</span> <span class="token string">"127.0.0.1"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>      <span class="token comment">// å“åº” 404</span></pre></td></tr><tr><td data-num="18"></td><td><pre>      res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">"&lt;h1>404 Not Found&lt;/h1>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>      <span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token comment">// èµ„æºä¸­é—´ä»¶è®¾ç½®</span></pre></td></tr><tr><td data-num="26"></td><td><pre>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">"./public"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token comment">// ç›‘å¬ç«¯å£</span></pre></td></tr><tr><td data-num="29"></td><td><pre>app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"3000 ç«¯å£å¯åŠ¨...."</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h2 id="router"><a class="anchor" href="#router">#</a> Router</h2><h3 id="ä»€ä¹ˆæ˜¯-router"><a class="anchor" href="#ä»€ä¹ˆæ˜¯-router">#</a> ä»€ä¹ˆæ˜¯ Router</h3><p>express ä¸­çš„ Router æ˜¯ä¸€ä¸ªå®Œæ•´çš„ä¸­é—´ä»¶å’Œè·¯ç”±ç³»ç»Ÿï¼Œå¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ªå°å‹çš„ app å¯¹è±¡ã€‚</p><h3 id="router-ä½œç”¨"><a class="anchor" href="#router-ä½œç”¨">#</a> Router ä½œç”¨</h3><p>å¯¹è·¯ç”±è¿›è¡Œæ¨¡å—åŒ–ï¼Œæ›´å¥½çš„ç®¡ç†è·¯ç”±</p><h3 id="router-ä½¿ç”¨"><a class="anchor" href="#router-ä½¿ç”¨">#</a> Router ä½¿ç”¨</h3><p>åˆ›å»ºç‹¬ç«‹çš„ JS æ–‡ä»¶ï¼ˆhomeRouter.jsï¼‰</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">//1. å¯¼å…¥ express</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"express"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">//2. åˆ›å»ºè·¯ç”±å™¨å¯¹è±¡</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">const</span> router <span class="token operator">=</span> express<span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">//3. åœ¨ router å¯¹è±¡èº«ä¸Šæ·»åŠ è·¯ç”±</span></pre></td></tr><tr><td data-num="8"></td><td><pre>router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">"é¦–é¡µ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre>router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/cart"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">"è´­ç‰©è½¦"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment">//4. æš´éœ²</span></pre></td></tr><tr><td data-num="17"></td><td><pre>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> router<span class="token punctuation">;</span></pre></td></tr></table></figure><p>ä¸»æ–‡ä»¶</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"express"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">//5. å¼•å…¥å­è·¯ç”±æ–‡ä»¶</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">const</span> homeRouter <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"./routes/homeRouter"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">//6. è®¾ç½®å’Œä½¿ç”¨ä¸­é—´ä»¶</span></pre></td></tr><tr><td data-num="7"></td><td><pre>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>homeRouter<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"3000 ç«¯å£å¯åŠ¨...."</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h2 id="ejs-æ¨¡æ¿å¼•æ“"><a class="anchor" href="#ejs-æ¨¡æ¿å¼•æ“">#</a> EJS æ¨¡æ¿å¼•æ“</h2><h3 id="ä»€ä¹ˆæ˜¯æ¨¡æ¿å¼•æ“"><a class="anchor" href="#ä»€ä¹ˆæ˜¯æ¨¡æ¿å¼•æ“">#</a> ä»€ä¹ˆæ˜¯æ¨¡æ¿å¼•æ“</h3><p>æ¨¡æ¿å¼•æ“æ˜¯åˆ†ç¦» &lt;span style=&quot;color:red&quot;&gt; ç”¨æˆ·ç•Œé¢ (html) å’Œä¸šåŠ¡æ•°æ® (js)&lt;/span&gt; çš„ä¸€ç§æŠ€æœ¯ã€‚å¦‚ ejsã€pug ç­‰</p><h3 id="ä»€ä¹ˆæ˜¯-ejs"><a class="anchor" href="#ä»€ä¹ˆæ˜¯-ejs">#</a> ä»€ä¹ˆæ˜¯ EJS</h3><p>EJS æ˜¯ä¸€ä¸ªé«˜æ•ˆçš„ Javascript çš„æ¨¡æ¿å¼•æ“<br>å®˜ç½‘: <span class="exturl" data-url="aHR0cHM6Ly9lanMuY28v">https://ejs.co/</span><br>ä¸­æ–‡ç«™ï¼š <span class="exturl" data-url="aHR0cHM6Ly9lanMuYm9vdGNzcy5jb20v">https://ejs.bootcss.com/</span></p><h3 id="ejs-åˆä½“éªŒ"><a class="anchor" href="#ejs-åˆä½“éªŒ">#</a> EJS åˆä½“éªŒ</h3><p>ä¸‹è½½å®‰è£… EJS</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">npm</span> i ejs <span class="token parameter variable">--save</span></pre></td></tr></table></figure><p>ä»£ç ç¤ºä¾‹</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">//1. å¼•å…¥ ejs</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">const</span> ejs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'ejs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">//2. å®šä¹‰æ•°æ®</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'å¼ ä¸‰'</span><span class="token punctuation">,</span><span class="token string">'æå››'</span><span class="token punctuation">,</span><span class="token string">'ç‹äºŒéº»å­'</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">//3.ejs è§£ææ¨¡æ¿è¿”å›ç»“æ„</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">//&lt;%= %> æ˜¯ ejs è§£æå†…å®¹çš„æ ‡è®°ï¼Œä½œç”¨æ˜¯è¾“å‡ºå½“å‰è¡¨è¾¾å¼çš„æ‰§è¡Œç»“æ„</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">//"&lt;%= %>" å¯ä»¥ç›´æ¥è¾“å‡ºå˜é‡æˆ–è¡¨è¾¾å¼çš„å€¼ï¼Œå˜é‡æˆ–è¡¨è¾¾å¼çš„å€¼å°†ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²åœ¨æµè§ˆå™¨ä¸­è¾“å‡ºã€‚</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">let</span> html <span class="token operator">=</span> ejs<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>â€˜<span class="token operator">&lt;</span><span class="token operator">%=</span> person<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span> <span class="token operator">%</span><span class="token operator">></span>â€™<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">person</span><span class="token operator">:</span>person<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">//4. è¾“å‡ºç»“æœ</span></pre></td></tr><tr><td data-num="10"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>å‘½ä»¤è¡Œä¸‹è¿è¡Œ</p><h3 id="ejs-å¸¸ç”¨è¯­æ³•"><a class="anchor" href="#ejs-å¸¸ç”¨è¯­æ³•">#</a> EJS å¸¸ç”¨è¯­æ³•</h3><p>æ‰§è¡Œ JS ä»£ç </p><figure class="highlight ejs"><figcaption data-lang="EJS"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> code </span><span class="token delimiter punctuation">%></span></span></pre></td></tr></table></figure><p>è¾“å‡ºè½¬ä¹‰çš„æ•°æ®åˆ°æ¨¡æ¿ä¸Š</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">&lt;</span><span class="token operator">%=</span> code <span class="token operator">%</span><span class="token operator">></span></pre></td></tr></table></figure><p>è¾“å‡ºéè½¬ä¹‰çš„æ•°æ®åˆ°æ¨¡æ¿ä¸Š</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">-</span> code <span class="token operator">%</span><span class="token operator">></span></pre></td></tr></table></figure><h3 id="åœ¨-express-ä¸­ä½¿ç”¨-ejs"><a class="anchor" href="#åœ¨-express-ä¸­ä½¿ç”¨-ejs">#</a> åœ¨ express ä¸­ä½¿ç”¨ ejs</h3><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// å¯¼å…¥ express</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"express"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"path"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">// åˆ›å»ºåº”ç”¨å¯¹è±¡</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">// 1. è®¾ç½®æ¨¡æ¿å¼•æ“</span></pre></td></tr><tr><td data-num="8"></td><td><pre>app<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"view engine"</span><span class="token punctuation">,</span> <span class="token string">"ejs"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// pug  twing</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">// 2. è®¾ç½®æ¨¡æ¿æ–‡ä»¶çš„å­˜æ”¾ä½ç½®</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment">// æ¨¡æ¿æ–‡ä»¶ï¼šå…·æœ‰æ¨¡æ¿è¯­æ³•å†…å®¹çš„æ–‡ä»¶</span></pre></td></tr><tr><td data-num="11"></td><td><pre>app<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"views"</span><span class="token punctuation">,</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"./views"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment">// åˆ›å»ºè·¯ç”±</span></pre></td></tr><tr><td data-num="14"></td><td><pre>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/home"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>  <span class="token comment">// 3. render å“åº”</span></pre></td></tr><tr><td data-num="16"></td><td><pre>  <span class="token comment">//res.render (' æ¨¡æ¿çš„æ–‡ä»¶å ',' æ•°æ® ')</span></pre></td></tr><tr><td data-num="17"></td><td><pre>  <span class="token keyword">let</span> title <span class="token operator">=</span> <span class="token string">"å°šç¡…è°· - è®©å¤©ä¸‹æ²¡æœ‰éš¾å­¦çš„æŠ€æœ¯"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>  res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">"home"</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> title <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>  <span class="token comment">// 4. åˆ›å»ºæ¨¡æ¿æ–‡ä»¶</span></pre></td></tr><tr><td data-num="20"></td><td><pre>  <span class="token comment">// å¦‚ä¸‹é¢æ–‡ä»¶ views/home.ejs</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token comment">// ç›‘å¬ç«¯å£ï¼Œå¯åŠ¨æœåŠ¡</span></pre></td></tr><tr><td data-num="24"></td><td><pre>app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"æœåŠ¡å™¨å·²å¯åŠ¨~~~~"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p><code>views/home.ejs</code></p><figure class="highlight ejs"><figcaption data-lang="EJS"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="6"></td><td><pre>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="7"></td><td><pre>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="8"></td><td><pre>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="12"></td><td><pre>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%=</span><span class="token language-javascript">title </span><span class="token delimiter punctuation">%></span></span></pre></td></tr><tr><td data-num="14"></td><td><pre>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><h2 id="express-generator"><a class="anchor" href="#express-generator">#</a> express-generator</h2><p>ä½¿ç”¨åº”ç”¨ç¨‹åºç”Ÿæˆå™¨å·¥å…· ï¼Œ å¿«é€Ÿåˆ›å»ºåº”ç”¨ç¨‹åºæ¡†æ¶ã€‚express-generator<br>å¯¹äºæ—©æœŸçš„ Node ç‰ˆæœ¬ï¼Œè¯·å°†åº”ç”¨ç¨‹åºç”Ÿæˆå™¨å®‰è£…ä¸ºå…¨å±€ npm åŒ…ï¼Œç„¶åå¯åŠ¨å®ƒï¼š</p><pre><code>$ npm install -g express-generator
$ express
</code></pre><p>æ˜¾ç¤ºå¸¦æœ‰ä»¥ä¸‹é€‰é¡¹çš„å‘½ä»¤é€‰é¡¹ï¼š-h</p><pre><code>$ express -h

  Usage: express [options] [dir]

  Options:

    -h, --help          output usage information
        --version       output the version number
    -e, --ejs           add ejs engine support
        --hbs           add handlebars engine support
        --pug           add pug engine support
    -H, --hogan         add hogan.js engine support
        --no-view       generate without view engine
    -v, --view &lt;engine&gt; add view &lt;engine&gt; support (ejs|hbs|hjs|jade|pug|twig|vash) (defaults to jade)
    -c, --css &lt;engine&gt;  add stylesheet &lt;engine&gt; support (less|stylus|compass|sass) (defaults to plain css)
        --git           add .gitignore
    -f, --force         force on non-empty directory
</code></pre><p>ä¾‹å¦‚ï¼Œä¸‹é¢åˆ›å»ºä¸€ä¸ªåä¸º myapp çš„å¿«é€Ÿåº”ç”¨ã€‚åº”ç”¨å°†åœ¨å½“å‰å·¥ä½œç›®å½•ä¸­åä¸º myapp çš„æ–‡ä»¶å¤¹ä¸­åˆ›å»ºï¼Œè§†å›¾å¼•æ“å°†è®¾ç½®ä¸º Pugï¼š</p><pre><code>$ express --view=pug myapp

   create : myapp
   create : myapp/package.json
   create : myapp/app.js
   create : myapp/public
   create : myapp/public/javascripts
   create : myapp/public/images
   create : myapp/routes
   create : myapp/routes/index.js
   create : myapp/routes/users.js
   create : myapp/public/stylesheets
   create : myapp/public/stylesheets/style.css
   create : myapp/views
   create : myapp/views/index.pug
   create : myapp/views/layout.pug
   create : myapp/views/error.pug
   create : myapp/bin
   create : myapp/bin/www
</code></pre><h2 id="æŸ¥çœ‹æ–‡ä»¶ä¸Šä¼ æŠ¥æ–‡"><a class="anchor" href="#æŸ¥çœ‹æ–‡ä»¶ä¸Šä¼ æŠ¥æ–‡">#</a> æŸ¥çœ‹æ–‡ä»¶ä¸Šä¼ æŠ¥æ–‡</h2><h2 id="æ¡ˆä¾‹å®è·µ-è®°è´¦æœ¬"><a class="anchor" href="#æ¡ˆä¾‹å®è·µ-è®°è´¦æœ¬">#</a> æ¡ˆä¾‹å®è·µ - è®°è´¦æœ¬</h2><div class="tags"><a href="/tags/express/" rel="tag"><i class="ic i-tag"></i> express</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">æ›´æ–°äº</span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-11-07 11:46:27" itemprop="dateModified" datetime="2023-11-07T11:46:27+08:00">2023-11-07</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> èµèµ</button><p>è¯·æˆ‘å–[èŒ¶]~(ï¿£â–½ï¿£)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt=" å¾®ä¿¡æ”¯ä»˜"><p>å¾®ä¿¡æ”¯ä»˜</p></div><div><img data-src="/images/alipay.png" alt=" æ”¯ä»˜å®"><p>æ”¯ä»˜å®</p></div><div><img data-src="/images/paypal.png" alt=" è´å®"><p>è´å®</p></div></div></div><div id="copyright"><ul><li class="author"><strong>æœ¬æ–‡ä½œè€…ï¼š </strong><i class="ic i-at"><em>@</em></i>Eucli ã®å°çª</li><li class="link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong> <a href="https://eucli.top/2023/09/29/express/" title="express">https://eucli.top/2023/09/29/express/</a></li><li class="license"><strong>ç‰ˆæƒå£°æ˜ï¼š </strong>æœ¬ç«™æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2023/09/29/mongoDB/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1giclflwv2aj20zk0m84qp.jpg" title="MongoDB"><span class="type">ä¸Šä¸€ç¯‡</span> <span class="category"><i class="ic i-flag"></i> åç«¯</span><h3>MongoDB</h3></a></div><div class="item right"><a href="/2023/09/29/TS%E7%99%BE%E7%BB%83%E9%A3%9E%E5%8D%87/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1giclimtf7dj20zk0m8qav.jpg" title="TSç™¾ç‚¼é£å‡"><span class="type">ä¸‹ä¸€ç¯‡</span> <span class="category"><i class="ic i-flag"></i> å‰ç«¯</span><h3>TSç™¾ç‚¼é£å‡</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="æ–‡ç« ç›®å½•"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#express-%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.</span> <span class="toc-text">express ä»‹ç»</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#express-%E4%BD%BF%E7%94%A8"><span class="toc-number">2.</span> <span class="toc-text">express ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#express-%E4%B8%8B%E8%BD%BD"><span class="toc-number">2.1.</span> <span class="toc-text">express ä¸‹è½½</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#express-%E5%88%9D%E4%BD%93%E9%AA%8C"><span class="toc-number">2.2.</span> <span class="toc-text">express åˆä½“éªŒ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#express-%E8%B7%AF%E7%94%B1"><span class="toc-number">3.</span> <span class="toc-text">express è·¯ç”±</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E8%B7%AF%E7%94%B1"><span class="toc-number">3.1.</span> <span class="toc-text">ä»€ä¹ˆæ˜¯è·¯ç”±</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">3.2.</span> <span class="toc-text">è·¯ç”±çš„ä½¿ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0"><span class="toc-number">3.3.</span> <span class="toc-text">è·å–è¯·æ±‚å‚æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E8%B7%AF%E7%94%B1%E5%8F%82%E6%95%B0"><span class="toc-number">3.4.</span> <span class="toc-text">è·å–è·¯ç”±å‚æ•°</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#express-%E5%93%8D%E5%BA%94%E8%AE%BE%E7%BD%AE"><span class="toc-number">4.</span> <span class="toc-text">express å“åº”è®¾ç½®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#express-%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="toc-number">5.</span> <span class="toc-text">express ä¸­é—´ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="toc-number">5.1.</span> <span class="toc-text">ä»€ä¹ˆæ˜¯ä¸­é—´ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%AD%E9%97%B4%E4%BB%B6%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">5.2.</span> <span class="toc-text">ä¸­é—´ä»¶çš„ä½œç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%AD%E9%97%B4%E4%BB%B6%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="toc-number">5.3.</span> <span class="toc-text">ä¸­é—´ä»¶çš„ç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E5%85%A8%E5%B1%80%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="toc-number">5.3.1.</span> <span class="toc-text">å®šä¹‰å…¨å±€ä¸­é—´ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E4%B8%AA%E5%85%A8%E5%B1%80%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="toc-number">5.3.2.</span> <span class="toc-text">å¤šä¸ªå…¨å±€ä¸­é—´ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E8%B7%AF%E7%94%B1%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="toc-number">5.3.3.</span> <span class="toc-text">å®šä¹‰è·¯ç”±ä¸­é—´ä»¶</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="toc-number">5.4.</span> <span class="toc-text">é™æ€èµ„æºä¸­é—´ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E4%BD%93%E6%95%B0%E6%8D%AE-body-parser"><span class="toc-number">5.5.</span> <span class="toc-text">è·å–è¯·æ±‚ä½“æ•°æ® body-parser</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%98%B2%E7%9B%97%E9%93%BE"><span class="toc-number">6.</span> <span class="toc-text">é˜²ç›—é“¾</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%98%B2%E7%9B%97%E9%93%BE%E5%AE%9E%E8%B7%B5"><span class="toc-number">6.1.</span> <span class="toc-text">é˜²ç›—é“¾å®è·µ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#router"><span class="toc-number">7.</span> <span class="toc-text">Router</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-router"><span class="toc-number">7.1.</span> <span class="toc-text">ä»€ä¹ˆæ˜¯ Router</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#router-%E4%BD%9C%E7%94%A8"><span class="toc-number">7.2.</span> <span class="toc-text">Router ä½œç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#router-%E4%BD%BF%E7%94%A8"><span class="toc-number">7.3.</span> <span class="toc-text">Router ä½¿ç”¨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ejs-%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E"><span class="toc-number">8.</span> <span class="toc-text">EJS æ¨¡æ¿å¼•æ“</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E"><span class="toc-number">8.1.</span> <span class="toc-text">ä»€ä¹ˆæ˜¯æ¨¡æ¿å¼•æ“</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-ejs"><span class="toc-number">8.2.</span> <span class="toc-text">ä»€ä¹ˆæ˜¯ EJS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ejs-%E5%88%9D%E4%BD%93%E9%AA%8C"><span class="toc-number">8.3.</span> <span class="toc-text">EJS åˆä½“éªŒ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ejs-%E5%B8%B8%E7%94%A8%E8%AF%AD%E6%B3%95"><span class="toc-number">8.4.</span> <span class="toc-text">EJS å¸¸ç”¨è¯­æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8-express-%E4%B8%AD%E4%BD%BF%E7%94%A8-ejs"><span class="toc-number">8.5.</span> <span class="toc-text">åœ¨ express ä¸­ä½¿ç”¨ ejs</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#express-generator"><span class="toc-number">9.</span> <span class="toc-text">express-generator</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%8A%A5%E6%96%87"><span class="toc-number">10.</span> <span class="toc-text">æŸ¥çœ‹æ–‡ä»¶ä¸Šä¼ æŠ¥æ–‡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B%E5%AE%9E%E8%B7%B5-%E8%AE%B0%E8%B4%A6%E6%9C%AC"><span class="toc-number">11.</span> <span class="toc-text">æ¡ˆä¾‹å®è·µ - è®°è´¦æœ¬</span></a></li></ol></div><div class="related panel pjax" data-title="ç³»åˆ—æ–‡ç« "><ul><li><a href="/2023/09/29/Nginx/" rel="bookmark" title="Nginx">Nginx</a></li><li><a href="/2023/09/29/%E6%9C%8D%E5%8A%A1%E7%AB%AF/" rel="bookmark" title="æœåŠ¡ç«¯">æœåŠ¡ç«¯</a></li><li><a href="/2023/09/29/Node.js/" rel="bookmark" title="Nodejs">Nodejs</a></li><li class="active"><a href="/2023/09/29/express/" rel="bookmark" title="express">express</a></li><li><a href="/2023/09/29/mongoDB/" rel="bookmark" title="MongoDB">MongoDB</a></li></ul></div><div class="overview panel" data-title="ç«™ç‚¹æ¦‚è§ˆ"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="" data-src="/images/avatar.jpg"><p class="name" itemprop="name"></p><div class="description" itemprop="description"></div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">25</span> <span class="name">æ–‡ç« </span></a></div><div class="item categories"><a href="/categories/"><span class="count">4</span> <span class="name">åˆ†ç±»</span></a></div><div class="item tags"><a href="/tags/"><span class="count">21</span> <span class="name">æ ‡ç­¾</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL21vbm9rdW1hMzEyMQ==" title="https:&#x2F;&#x2F;github.com&#x2F;monokuma3121"><i class="ic i-github"></i></span> <span class="exturl item about" data-url="aHR0cHM6Ly9hYm91dC5tZS9hbWVoaW1l" title="https:&#x2F;&#x2F;about.me&#x2F;amehime"><i class="ic i-address-card"></i></span> <span class="exturl item email" data-url="aHR0cHM6Ly9tYWlsLmdvb2dsZS5jb20vbWFpbC91LzAvI2luYm94" title="https:&#x2F;&#x2F;mail.google.com&#x2F;mail&#x2F;u&#x2F;0&#x2F;#inbox"><i class="ic i-envelope"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>é¦–é¡µ</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>æ–‡ç« </a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>å½’æ¡£</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>åˆ†ç±»</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>æ ‡ç­¾</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>å‹é”</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2023/09/29/mongoDB/" rel="prev" title="ä¸Šä¸€ç¯‡"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2023/09/29/TS%E7%99%BE%E7%BB%83%E9%A3%9E%E5%8D%87/" rel="next" title="ä¸‹ä¸€ç¯‡"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"></div><div class="status"><div class="copyright">&copy; 2021 â€“ <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">@ Eucliã®å°çª</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="ç«™ç‚¹æ€»å­—æ•°">283k å­—</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">4:17</span></div><div class="powered-by">åŸºäº <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2023/09/29/express/",favicon:{show:"ï¼ˆâ—Â´3ï½€â—ï¼‰ã‚„ã‚Œã‚„ã‚Œã ãœ",hide:"(Â´Ğ”ï½€)å¤§å¤‰ã ï¼"},search:{placeholder:"æ–‡ç« æœç´¢",empty:"å…³äº ã€Œ ${query} ã€ï¼Œä»€ä¹ˆä¹Ÿæ²¡æœåˆ°",stats:"${time} ms å†…æ‰¾åˆ° ${hits} æ¡ç»“æœ"},valine:!0,fancybox:!0,copyright:'å¤åˆ¶æˆåŠŸï¼Œè½¬è½½è¯·éµå®ˆ <i class="ic i-creative-commons"></i>BY-NC-SA åè®®ã€‚',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->